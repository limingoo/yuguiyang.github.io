<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>于贵洋的博客</title>
  <subtitle>BI、数据分析</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://yuguiyang.github.io/"/>
  <updated>2017-10-25T06:38:40.097Z</updated>
  <id>https://yuguiyang.github.io/</id>
  
  <author>
    <name>于贵洋</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>愿人生从容(置顶)</title>
    <link href="https://yuguiyang.github.io/2017/12/31/top/"/>
    <id>https://yuguiyang.github.io/2017/12/31/top/</id>
    <published>2017-12-31T13:59:00.000Z</published>
    <updated>2017-10-25T06:38:40.097Z</updated>
    
    <content type="html"><![CDATA[<p>Hi，欢迎访问我的博客。</p>
<p>在这里分享BI、数据分析等相关的技术内容；个人随笔、感悟。</p>
<p>欢迎和我交流分享。</p>
<p>愿你出走半生，归来仍是少年。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Hi，欢迎访问我的博客。&lt;/p&gt;
&lt;p&gt;在这里分享BI、数据分析等相关的技术内容；个人随笔、感悟。&lt;/p&gt;
&lt;p&gt;欢迎和我交流分享。&lt;/p&gt;
&lt;p&gt;愿你出走半生，归来仍是少年。&lt;/p&gt;

    
    </summary>
    
      <category term="随笔" scheme="https://yuguiyang.github.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="随笔" scheme="https://yuguiyang.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>读书笔记-数据化运营(1章）</title>
    <link href="https://yuguiyang.github.io/2017/10/27/reading_notes_data_analysis_03/"/>
    <id>https://yuguiyang.github.io/2017/10/27/reading_notes_data_analysis_03/</id>
    <published>2017-10-27T04:00:00.000Z</published>
    <updated>2017-10-27T09:22:01.331Z</updated>
    
    <content type="html"><![CDATA[<p>读书笔记<br>数据化运营速成手册<br>第一章</p>
<blockquote>
<p>这本书，大概翻了一遍，感觉还不错，作者结合自身经验从实际问题角度出发给我们介绍了数据化运营、数据分析，书中图表、分析模型都是基于Excel的，不需要学习其他的工具，对于我们上手来说很简单。后面就让我们跟随作者的脚步，一步一步来学习下。</p>
</blockquote>
<p>对于数据分析、数据化运营来说，最终的表现形式可能是一份数据分析报告，都说“字不如表，表不如图”，所以报告中可能会是各种图表，然而，是不是所有的报告或者需求都需要使用图表呢？这是我们首先要判断的问题。</p>
<h1 id="真的要做图吗？"><a href="#真的要做图吗？" class="headerlink" title="真的要做图吗？"></a>真的要做图吗？</h1><p>我们拿到一个需求，面对收集好的数据，我们首先要思考的是：真的要做图吗？<br>有时候，文字报告或者一个表格的表达效果会比图表好得多。<br>我们最终的目的，其实是准确传达信息或者解决业务方的疑问，不要盲目的认为图表一定是最好的。</p>
<ul>
<li>短期内了解性需求<br>一些临时性的了解某个指标实际情况的需求：“近一个月的日活、上个月的支出”，我们只要提供准确的数据就好了。</li>
<li>多维度相互组合的需求<br>这里说的就是指标涉及的维度比较多，用图表没有办法准确的传达信息，作者有举一个具体的例子:<blockquote>
<p>老板说他想看上个月各个城市中VIP客户和非VIP客户数量的对比和同比上上月的情况。</p>
</blockquote>
</li>
</ul>
<p>基础数据是这样的<br><img src="http://upload-images.jianshu.io/upload_images/76024-46e93f4cc19defb6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>转化成图表可能会是这样，图看上去还不错<br><img src="http://upload-images.jianshu.io/upload_images/76024-1fbf0a3c87784de8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>上面的折线图用的不太妥，折线图一般可能用在时间序列上或者具有演进关系的，而地区之间并没有这种演进关系，当然，我们可以改一下图表：</p>
<a id="more"></a>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-84ed7d36adb63d83.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>这样虽然满足了，但是图的效果差些，而且，如果老板又要增加一个VIP用户占比情况，图表就没法好好表达了，所以，最直接的，我们就是使用一个表格来展现数据</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-7b16315088c01213.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>当然，可以再好看些，像这样：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-a2e1c306c3ea2660.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<ul>
<li><p>图表传达的信息有限<br>我们要用正确的图表表达正确的理念，每种图表都有他擅长表达的领域；如果一些观点不能用图表完全表达出来，一定要放弃使用图表</p>
</li>
<li><p>数据间存在复杂逻辑<br>这里说的其实也是不能用图表完全表达观点的情况，有时候，数据集之间可能互相影响，互为因果，这里作者举了一个用户行为路径转化的例子</p>
</li>
</ul>
<h1 id="图表的基本构成"><a href="#图表的基本构成" class="headerlink" title="图表的基本构成"></a>图表的基本构成</h1><p>排除上面几种情况，最后确定要做图表的话，我们就要了解图表的基本特征，这里作者主要介绍了图表的基本元素</p>
<ul>
<li>坐标轴</li>
<li>图例的位置</li>
<li>辅助线</li>
<li>数据标签等等<br>这里就不详细介绍了，后面，我们再具体的图标中，再介绍</li>
</ul>
<h1 id="控制图标中的信息量"><a href="#控制图标中的信息量" class="headerlink" title="控制图标中的信息量"></a>控制图标中的信息量</h1><p>在最开始，我们就要注意，图标中表达的内容一定要直观，简单，不要融合太多的指标，指标多了以后，就会产生混淆，产生误解。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;读书笔记&lt;br&gt;数据化运营速成手册&lt;br&gt;第一章&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;这本书，大概翻了一遍，感觉还不错，作者结合自身经验从实际问题角度出发给我们介绍了数据化运营、数据分析，书中图表、分析模型都是基于Excel的，不需要学习其他的工具，对于我们上手来说很简单。后面就让我们跟随作者的脚步，一步一步来学习下。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;对于数据分析、数据化运营来说，最终的表现形式可能是一份数据分析报告，都说“字不如表，表不如图”，所以报告中可能会是各种图表，然而，是不是所有的报告或者需求都需要使用图表呢？这是我们首先要判断的问题。&lt;/p&gt;
&lt;h1 id=&quot;真的要做图吗？&quot;&gt;&lt;a href=&quot;#真的要做图吗？&quot; class=&quot;headerlink&quot; title=&quot;真的要做图吗？&quot;&gt;&lt;/a&gt;真的要做图吗？&lt;/h1&gt;&lt;p&gt;我们拿到一个需求，面对收集好的数据，我们首先要思考的是：真的要做图吗？&lt;br&gt;有时候，文字报告或者一个表格的表达效果会比图表好得多。&lt;br&gt;我们最终的目的，其实是准确传达信息或者解决业务方的疑问，不要盲目的认为图表一定是最好的。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;短期内了解性需求&lt;br&gt;一些临时性的了解某个指标实际情况的需求：“近一个月的日活、上个月的支出”，我们只要提供准确的数据就好了。&lt;/li&gt;
&lt;li&gt;多维度相互组合的需求&lt;br&gt;这里说的就是指标涉及的维度比较多，用图表没有办法准确的传达信息，作者有举一个具体的例子:&lt;blockquote&gt;
&lt;p&gt;老板说他想看上个月各个城市中VIP客户和非VIP客户数量的对比和同比上上月的情况。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;基础数据是这样的&lt;br&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-46e93f4cc19defb6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;转化成图表可能会是这样，图看上去还不错&lt;br&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-1fbf0a3c87784de8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;br&gt;上面的折线图用的不太妥，折线图一般可能用在时间序列上或者具有演进关系的，而地区之间并没有这种演进关系，当然，我们可以改一下图表：&lt;/p&gt;
    
    </summary>
    
      <category term="读书笔记" scheme="https://yuguiyang.github.io/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="数据分析" scheme="https://yuguiyang.github.io/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
      <category term="读书笔记" scheme="https://yuguiyang.github.io/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
      <category term="实例" scheme="https://yuguiyang.github.io/tags/%E5%AE%9E%E4%BE%8B/"/>
    
  </entry>
  
  <entry>
    <title>常见图表-直方图</title>
    <link href="https://yuguiyang.github.io/2017/10/25/statistics-handbook-02/"/>
    <id>https://yuguiyang.github.io/2017/10/25/statistics-handbook-02/</id>
    <published>2017-10-25T00:08:00.000Z</published>
    <updated>2017-10-25T08:52:55.525Z</updated>
    
    <content type="html"><![CDATA[<p>常见图表介绍及实例</p>
<h1 id="什么是直方图"><a href="#什么是直方图" class="headerlink" title="什么是直方图"></a>什么是直方图</h1><blockquote>
<p>直方图(Histogram)又称质量分布图。是一种统计报告图，由一系列高度不等的纵向条纹或线段表示数据分布的情况。 一般用横轴表示数据类型，纵轴表示分布情况。<br>为了构建直方图，第一步是将值的范围分段，即将整个值的范围分成一系列间隔，然后计算每个间隔中有多少值。 这些值通常被指定为连续的，不重叠的变量间隔。 间隔必须相邻，并且通常是（但不是必须的）相等的大小。</p>
</blockquote>
<p>直方图一开始可能是应用在工业生产领域，来做质量评估，判断生产稳定性</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-673fd45d90156bd9.gif?imageMogr2/auto-orient/strip" alt=""></p>
<p>组数：在统计数据时，我们把数据按照不同的范围分成几个组，分成的组的个数称为组数。<br>组距：每一组两个端点的差。</p>
<h1 id="作用（优势）"><a href="#作用（优势）" class="headerlink" title="作用（优势）"></a>作用（优势）</h1><ol>
<li>显示数据波动状态</li>
<li>直观的表达数据分布趋势</li>
<li>方便找到应该关注的点</li>
</ol>
<a id="more"></a>
<h1 id="绘制方法"><a href="#绘制方法" class="headerlink" title="绘制方法"></a>绘制方法</h1><p>– from 百度百科</p>
<p>①集中和记录数据，求出其最大值和最小值。数据的数量应在100个以上，在数量不多的情况下，至少也应在         50个以上。 我们把分成组的个数称为组数，每一个组的两个端点的差称为组距。<br>②将数据分成若干组，并做好记号。分组的数量在5－12之间较为适宜。<br>③计算组距的宽度。用最大值和最小值之差去除组数，求出组距的宽度。<br>④计算各组的界限位。各组的界限位可以从第一组开始依次计算，第一组的下界为最小值减去最小测定单位的一半，第一组的上界为其下界值加上组距。第二组的下界限位为第一组的上界限值，第二组的下界限值加上组距，就是第二组的上界限位，依此类推。<br>⑤统计各组数据出现频数，作频数分布表。<br>⑥作直方图。以组距为底长，以频数为高，作各组的矩形图。</p>
<h1 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h1><p>假设我们有公司所有部门的KPI完成情况，如下图：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-9ae8bd35e6cc7140.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>我们想要了解公司的整体运营情况，用图表来看会更直观，这就正好用上了直方图，来看公司在每一个区间的分布情况；<br>我们以0.3为组距，分成5个组（数据是随机生成的，貌似有点儿不太靠谱，如果公司的KPI完成率是这样，我觉得KPI定义会稍微有问题，基本上都没达标啊）<br><img src="http://upload-images.jianshu.io/upload_images/76024-2cb9c3bed14311a2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="概率分布表"></p>
<p>然后，我们在Excel中，创建一个图表，就可以直观的看到KPI的完成情况分布了<br><img src="http://upload-images.jianshu.io/upload_images/76024-774323cd1e2e0e48.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="直方图"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;常见图表介绍及实例&lt;/p&gt;
&lt;h1 id=&quot;什么是直方图&quot;&gt;&lt;a href=&quot;#什么是直方图&quot; class=&quot;headerlink&quot; title=&quot;什么是直方图&quot;&gt;&lt;/a&gt;什么是直方图&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;直方图(Histogram)又称质量分布图。是一种统计报告图，由一系列高度不等的纵向条纹或线段表示数据分布的情况。 一般用横轴表示数据类型，纵轴表示分布情况。&lt;br&gt;为了构建直方图，第一步是将值的范围分段，即将整个值的范围分成一系列间隔，然后计算每个间隔中有多少值。 这些值通常被指定为连续的，不重叠的变量间隔。 间隔必须相邻，并且通常是（但不是必须的）相等的大小。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;直方图一开始可能是应用在工业生产领域，来做质量评估，判断生产稳定性&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-673fd45d90156bd9.gif?imageMogr2/auto-orient/strip&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;组数：在统计数据时，我们把数据按照不同的范围分成几个组，分成的组的个数称为组数。&lt;br&gt;组距：每一组两个端点的差。&lt;/p&gt;
&lt;h1 id=&quot;作用（优势）&quot;&gt;&lt;a href=&quot;#作用（优势）&quot; class=&quot;headerlink&quot; title=&quot;作用（优势）&quot;&gt;&lt;/a&gt;作用（优势）&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;显示数据波动状态&lt;/li&gt;
&lt;li&gt;直观的表达数据分布趋势&lt;/li&gt;
&lt;li&gt;方便找到应该关注的点&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="统计知识" scheme="https://yuguiyang.github.io/categories/%E7%BB%9F%E8%AE%A1%E7%9F%A5%E8%AF%86/"/>
    
    
      <category term="统计" scheme="https://yuguiyang.github.io/tags/%E7%BB%9F%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>平均数小记</title>
    <link href="https://yuguiyang.github.io/2017/10/24/statistics-handbook-01/"/>
    <id>https://yuguiyang.github.io/2017/10/24/statistics-handbook-01/</id>
    <published>2017-10-24T00:08:00.000Z</published>
    <updated>2017-10-25T08:53:53.382Z</updated>
    
    <content type="html"><![CDATA[<p>我们日常生活中，经常会遇到平均数像什么平均工资，平均身高，平均成绩之类的，曾经在课上学习的相关知识估计早就忘记了，这里我们就来回顾下。<br>(下面部分介绍及例子摘自百度百科)</p>
<h1 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h1><h2 id="算术平均数-arithmetic-mean"><a href="#算术平均数-arithmetic-mean" class="headerlink" title="算术平均数(arithmetic mean)"></a>算术平均数(arithmetic mean)</h2><p>通常我们说的平均数都是“算术平均数”：平均成绩、平均身高、平均收入…</p>
<blockquote>
<p>一组数据中所有数据之和再除以这组数据的个数，他反映一组数据的集中趋势<br>– 百度百科</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-0f0afbe9f2d811df.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="from 百度百科"></p>
<h3 id="加权算术平均数"><a href="#加权算术平均数" class="headerlink" title="加权算术平均数"></a>加权算术平均数</h3><blockquote>
<p>加权平均值即将各数值乘以相应的权数，然后加总求和得到总体值，再除以总的单位数。</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-2bc427421fad2046.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="from baidu"></p>
<p>这个表示每个数据都有一个权重，也比较常见，比如：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-727c31056126d50f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="from baidu"></p>
<p>通常我们再绩效考核中，有自评、领导评价，领导的评价一般权重较高，</p>
<a id="more"></a>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-09f036256f6cb8f1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>最后的84分（<code>90*40%+80*60%</code>）是本月的绩效评分</p>
<h2 id="中位数-median"><a href="#中位数-median" class="headerlink" title="中位数(median)"></a>中位数(median)</h2><blockquote>
<p>中位数是指将数据按大小顺序排列起来，形成一个数列，居于数列中间位置的那个数据</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-315576ace88b73b8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="from 百度百科"></p>
<p>当一组数据中有极端值时，”中位数”比“算术平均数”可以更好的表示平均水平<br>下面是一组学生的数学成绩，看“算术平均数”的话，平均分是63勉强超过了及格线，看上去可能还好，但实际上呢？这组学生大部分人都没有及格，都在50分一下，是因为有2名学生考了100分，整体拉高了平均成绩；<br>而中位数就就49分，已经大大低于60分了，可以更直观的表现该组学生的一个整体成绩，还需要多多关注数学的学习。<br><img src="http://upload-images.jianshu.io/upload_images/76024-26878d65f53bcfbc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>这就比较类似“被平均”的情况，光看平均分是及格了，但实际上，大多数学生并没有好好的掌握这次数学考试的内容，普通的学生被2个学霸平均了。</p>
<p>就平均收入来说，新闻上经常会出现哪个城市的平均工资是多少，同比增长了多少，每次看到这样的数据，都会觉得自己拖了后腿。首先社会财富的分配本身就不是均匀的，根据二八定律，社会上20%的人掌握着80%的财富，一平均数据很好看，而实际上贫富分化依然很严重。</p>
<h2 id="众数"><a href="#众数" class="headerlink" title="众数"></a>众数</h2><blockquote>
<p>众数是指一组数据中出现次数最多的那个数据，一组数据可以有多个众数，也可以没有众数。</p>
</blockquote>
<p>以上面成绩的数据为例，众数就是100，他代表了这组数据的一个峰值，对于我们想看整体情况，没有太多参考意义。</p>
<p>在其他一些场景下，智库百科上有这样一个例子：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-f7a2cafe98faed50.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<blockquote>
<p>从表中可以看到，25.5厘米的鞋号销售量最多，如果我们计算算术平均数，则平均号码为25.65厘米，而这个号码显然是没有实际意义的，而直接用25.5厘米作为顾客对男皮鞋所需尺寸的集中趋势既便捷又符合实际。 </p>
</blockquote>
<h2 id="几何平均数"><a href="#几何平均数" class="headerlink" title="几何平均数"></a>几何平均数</h2><blockquote>
<p>几何平均数是n个变量值连乘积的n次方根</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-71f3f14354b87080.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="from 百度百科"></p>
<p>这个平时用的好像比较少，他主要用在计算比率、平均速度等，他受极端值影响比“算术平均数”小，还以上面考试成绩为例，他的几何平均数是59<br><img src="http://upload-images.jianshu.io/upload_images/76024-d087b7c8ee8360f1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>百度上有这样一个例子：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-1309e283df7cfda2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>就平均数的话，还有很多其他的内容，这里暂时不举例了，后面用到了再说</p>
<h1 id="对比"><a href="#对比" class="headerlink" title="对比"></a>对比</h1><h2 id="中位数与平均数与众数"><a href="#中位数与平均数与众数" class="headerlink" title="中位数与平均数与众数"></a>中位数与平均数与众数</h2><p>这里的平均数指“算术平均数”</p>
<ul>
<li>平均数主要表示数据整体水平，容易受极端数据影响</li>
<li>中位数表示数据的中等水平</li>
<li>众数反映的是一组数据中的集中程度，日常遇到的什么“最佳”、“最受欢迎”等等，都是众数的概念</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;我们日常生活中，经常会遇到平均数像什么平均工资，平均身高，平均成绩之类的，曾经在课上学习的相关知识估计早就忘记了，这里我们就来回顾下。&lt;br&gt;(下面部分介绍及例子摘自百度百科)&lt;/p&gt;
&lt;h1 id=&quot;基本概念&quot;&gt;&lt;a href=&quot;#基本概念&quot; class=&quot;headerlink&quot; title=&quot;基本概念&quot;&gt;&lt;/a&gt;基本概念&lt;/h1&gt;&lt;h2 id=&quot;算术平均数-arithmetic-mean&quot;&gt;&lt;a href=&quot;#算术平均数-arithmetic-mean&quot; class=&quot;headerlink&quot; title=&quot;算术平均数(arithmetic mean)&quot;&gt;&lt;/a&gt;算术平均数(arithmetic mean)&lt;/h2&gt;&lt;p&gt;通常我们说的平均数都是“算术平均数”：平均成绩、平均身高、平均收入…&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;一组数据中所有数据之和再除以这组数据的个数，他反映一组数据的集中趋势&lt;br&gt;– 百度百科&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-0f0afbe9f2d811df.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;from 百度百科&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;加权算术平均数&quot;&gt;&lt;a href=&quot;#加权算术平均数&quot; class=&quot;headerlink&quot; title=&quot;加权算术平均数&quot;&gt;&lt;/a&gt;加权算术平均数&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;加权平均值即将各数值乘以相应的权数，然后加总求和得到总体值，再除以总的单位数。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-2bc427421fad2046.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;from baidu&quot;&gt;&lt;/p&gt;
&lt;p&gt;这个表示每个数据都有一个权重，也比较常见，比如：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-727c31056126d50f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;from baidu&quot;&gt;&lt;/p&gt;
&lt;p&gt;通常我们再绩效考核中，有自评、领导评价，领导的评价一般权重较高，&lt;/p&gt;
    
    </summary>
    
      <category term="统计基础" scheme="https://yuguiyang.github.io/categories/%E7%BB%9F%E8%AE%A1%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="统计" scheme="https://yuguiyang.github.io/tags/%E7%BB%9F%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>MySQL-每周练习答案(2017-10-20)</title>
    <link href="https://yuguiyang.github.io/2017/10/21/mysql-handbook-14/"/>
    <id>https://yuguiyang.github.io/2017/10/21/mysql-handbook-14/</id>
    <published>2017-10-21T02:00:00.000Z</published>
    <updated>2017-10-21T03:34:22.297Z</updated>
    
    <content type="html"><![CDATA[<p>MySQL<br>每周练习答案</p>
<p>这里和大家分享下本周练习题的一种解题思路</p>
<p>将题目简化一下，其实就是实现这样一个功能：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-ca0606de4cf51b9f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>我们将使用逗号分隔的数据，拆分为多行数据，熟悉MySQL的同学，可能会想到，这有点儿像group_concat函数，但这是他的逆过程</p>
<h1 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">create</span> <span class="keyword">table</span> tm_company(</div><div class="line">  company_name <span class="built_in">varchar</span>(<span class="number">10</span>),</div><div class="line">  company_industry <span class="built_in">varchar</span>(<span class="number">20</span>)</div><div class="line">);</div><div class="line"></div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tm_company(company_name,company_industry) <span class="keyword">values</span>(<span class="string">'A公司'</span>,<span class="string">'移动互联网,金融'</span>);</div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tm_company(company_name,company_industry) <span class="keyword">values</span>(<span class="string">'B公司'</span>,<span class="string">'移动互联网'</span>);</div><div class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tm_company(company_name,company_industry) <span class="keyword">values</span>(<span class="string">'C公司'</span>,<span class="string">'教育,招聘,魔法'</span>);</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">select</span> *<span class="keyword">from</span> tm_company;</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-bf06fbffe9d157cd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<a id="more"></a>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>我们先来思考这样一个问题，怎样才能把用逗号分隔的数据拆分呢？<br>这里需要了解MySQL的字符串函数<br><a href="https://dev.mysql.com/doc/refman/5.7/en/string-functions.html" target="_blank" rel="external">https://dev.mysql.com/doc/refman/5.7/en/string-functions.html</a></p>
<h2 id="SUBSTRING-INDEX"><a href="#SUBSTRING-INDEX" class="headerlink" title="SUBSTRING_INDEX"></a>SUBSTRING_INDEX</h2><p>找一下，会发现这个函数，挺符合我们需求的</p>
<blockquote>
<p>SUBSTRING_INDEX(<em>str</em>,<em>delim</em>,<em>count</em>)<br>str 就是我们要分隔的字符串<br>delim 就是我们的分隔符<br>当count为正数时，我们从左侧开始截取，截止到delim第count次出现时；当count为负数时，则从右侧开始</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SELECT SUBSTRING_INDEX('www.mysql.com', '.', 2);</div><div class="line">        -&gt; 'www.mysql'</div><div class="line">mysql&gt; SELECT SUBSTRING_INDEX('www.mysql.com', '.', -2);</div><div class="line">        -&gt; 'mysql.com'</div></pre></td></tr></table></figure>
<p>我们来试一下<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> </div><div class="line">  company_name,</div><div class="line">  substring_index(company_industry,<span class="string">','</span>,<span class="number">1</span>),</div><div class="line">  substring_index(company_industry,<span class="string">','</span>,<span class="number">2</span>),</div><div class="line">  substring_index(company_industry,<span class="string">','</span>,<span class="number">-1</span>)</div><div class="line"><span class="keyword">from</span> </div><div class="line">  tm_company;</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-eb162bd666ee8368.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>看上去，好像接近我们想要的数据，但还是有些问题<br>比如，我们需要判断到底要分隔几次，那该怎样判断要分隔几次呢？<br>其实就是看有几个逗号，那怎样判断有几个逗号呢？<br>好像并没有判断字符出现次数的函数，但我们可以绕个弯来实现<br>像这样，我们把逗号都替换掉，看数据长度减少了多少，就可以了<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> </div><div class="line">  company_name,</div><div class="line">  company_industry,</div><div class="line">  <span class="keyword">length</span>(company_industry)-<span class="keyword">length</span>(<span class="keyword">replace</span>(company_industry,<span class="string">','</span>,<span class="string">''</span>))</div><div class="line"><span class="keyword">from</span> </div><div class="line">  tm_company;</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-e65e298575bffd74.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>我们再来观察下这个数据</p>
<ul>
<li>1个逗号的时候，我们需要拆分2次</li>
<li>0个逗号的时候，我们需要拆分1次</li>
<li>2个逗号的时候，我们需要拆分3次</li>
</ul>
<p>我们以C公司的数据来测试下<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> </div><div class="line">  substring_index(<span class="string">'教育,招聘,魔法'</span>,<span class="string">','</span>,<span class="number">1</span>),</div><div class="line">  substring_index(<span class="string">'教育,招聘,魔法'</span>,<span class="string">','</span>,<span class="number">2</span>),</div><div class="line">  substring_index(<span class="string">'教育,招聘,魔法'</span>,<span class="string">','</span>,<span class="number">3</span>)</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-86ec73757e705d3a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>我们观察下，会发现，最右边的数据就是我们想要的</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-393d09ca01679d14.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> </div><div class="line">  substring_index(substring_index(<span class="string">'教育,招聘,魔法'</span>,<span class="string">','</span>,<span class="number">1</span>),<span class="string">','</span>,<span class="number">-1</span>),</div><div class="line">  substring_index(substring_index(<span class="string">'教育,招聘,魔法'</span>,<span class="string">','</span>,<span class="number">2</span>),<span class="string">','</span>,<span class="number">-1</span>),</div><div class="line">  substring_index(substring_index(<span class="string">'教育,招聘,魔法'</span>,<span class="string">','</span>,<span class="number">3</span>),<span class="string">','</span>,<span class="number">-1</span>)</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-133c11eae3d4de52.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>哎，好像是了嘛，数据现在已经分隔好了，现在的问题，好像变成了列转行</p>
<h2 id="列转行"><a href="#列转行" class="headerlink" title="列转行"></a>列转行</h2><p>因为我们的数据是动态分隔的，所以，做列转行的话，不能用之前的方法，可能需要使用另一种方法<br>我们看下上面分隔的时候，使用的下标，是自增的，而且和逗号的数量也有关<br>畅想一下（估计是经验），可以这样来做<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> *<span class="keyword">from</span> (</div><div class="line">  <span class="keyword">select</span> <span class="number">0</span> <span class="keyword">as</span> <span class="keyword">id</span></div><div class="line">  <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span></div><div class="line">  <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">2</span></div><div class="line">  <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">3</span></div><div class="line">  <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">4</span></div><div class="line">) base</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-8630ef5582431d9a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>通常，我们会创建一张基础表，来方便使用。<br>我们可以这个数据来表示逗号的数量，然后这样</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> </div><div class="line">  a.company_name,</div><div class="line">  a.company_industry,</div><div class="line">  substring_index(substring_index(a.company_industry,<span class="string">','</span>,b.id+<span class="number">1</span>),<span class="string">','</span>,<span class="number">-1</span>)</div><div class="line"><span class="keyword">from</span> </div><div class="line">  tm_company a </div><div class="line"><span class="keyword">join</span> (</div><div class="line">  <span class="keyword">select</span> <span class="number">0</span> <span class="keyword">as</span> <span class="keyword">id</span></div><div class="line">  <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span></div><div class="line">  <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">2</span></div><div class="line">  <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">3</span></div><div class="line">  <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">4</span></div><div class="line">) b <span class="keyword">on</span> b.id &lt;= <span class="keyword">length</span>(a.company_industry)-<span class="keyword">length</span>(<span class="keyword">replace</span>(a.company_industry,<span class="string">','</span>,<span class="string">''</span>))</div><div class="line"><span class="keyword">order</span> <span class="keyword">by</span> </div><div class="line">  a.company_name;</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-1446b4feeb773cae.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>好了，完成，我们通过1对多的关系，进行了列转行，再配合substring_index函数，我们就完成了上面的问题。</p>
<p>先这样，大家先理解下，欢迎反馈。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MySQL&lt;br&gt;每周练习答案&lt;/p&gt;
&lt;p&gt;这里和大家分享下本周练习题的一种解题思路&lt;/p&gt;
&lt;p&gt;将题目简化一下，其实就是实现这样一个功能：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-ca0606de4cf51b9f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;我们将使用逗号分隔的数据，拆分为多行数据，熟悉MySQL的同学，可能会想到，这有点儿像group_concat函数，但这是他的逆过程&lt;/p&gt;
&lt;h1 id=&quot;测试数据&quot;&gt;&lt;a href=&quot;#测试数据&quot; class=&quot;headerlink&quot; title=&quot;测试数据&quot;&gt;&lt;/a&gt;测试数据&lt;/h1&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;table&lt;/span&gt; tm_company(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  company_name &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  company_industry &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; tm_company(company_name,company_industry) &lt;span class=&quot;keyword&quot;&gt;values&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;A公司&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;移动互联网,金融&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; tm_company(company_name,company_industry) &lt;span class=&quot;keyword&quot;&gt;values&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;B公司&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;移动互联网&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; tm_company(company_name,company_industry) &lt;span class=&quot;keyword&quot;&gt;values&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;C公司&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;教育,招聘,魔法&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; *&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; tm_company;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-bf06fbffe9d157cd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/categories/MySQL/"/>
    
    
      <category term="SQL" scheme="https://yuguiyang.github.io/tags/SQL/"/>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>MySQL-每周练习(2017-10-20)</title>
    <link href="https://yuguiyang.github.io/2017/10/18/mysql-handbook-13/"/>
    <id>https://yuguiyang.github.io/2017/10/18/mysql-handbook-13/</id>
    <published>2017-10-18T12:00:00.000Z</published>
    <updated>2017-10-20T01:51:49.411Z</updated>
    
    <content type="html"><![CDATA[<p>MySQL<br>每周练习</p>
<p>本周我们来一道数据处理的练习题。</p>
<h2 id="数据背景"><a href="#数据背景" class="headerlink" title="数据背景"></a>数据背景</h2><p>不知道大家学会爬虫了没，拉勾网的数据大家会爬取了吗？这道题和拉勾网有关哦。<br>假设你已经学会爬取数据了，可以将数据爬取下来，数据可能是这个样子(demo库中的tm_lagou_data表)：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`tm_lagou_data`</span> (</div><div class="line">  <span class="string">`city`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'城市'</span>,</div><div class="line">  <span class="string">`company_short_name`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'公司简称'</span>,</div><div class="line">  <span class="string">`company_full_name`</span> <span class="built_in">varchar</span>(<span class="number">200</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'公司全称'</span>,</div><div class="line">  <span class="string">`company_industry`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'所属行业'</span>,</div><div class="line">  <span class="string">`company_location`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'工作地点'</span>,</div><div class="line">  <span class="string">`position_advantage`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'岗位特点'</span>,</div><div class="line">  <span class="string">`position_salary`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'薪资'</span>,</div><div class="line">  <span class="string">`position_workyear`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'工作经验'</span>,</div><div class="line">  <span class="string">`position_name`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'职位名称'</span>,</div><div class="line">  <span class="string">`position_first_type`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'岗位类型-大类'</span>,</div><div class="line">  <span class="string">`position_second_type`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'岗位类型-小类'</span>,</div><div class="line">  <span class="string">`position_lables`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'岗位标签'</span>,</div><div class="line">  <span class="string">`position_id`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'岗位ID'</span>,</div><div class="line">  <span class="string">`create_time`</span> datetime <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'发布时间'</span>,</div><div class="line">  <span class="string">`job_desc`</span> <span class="built_in">text</span> <span class="keyword">comment</span> <span class="string">'岗位描述'</span></div><div class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 <span class="keyword">COMMENT</span>=<span class="string">'拉勾网-数据分析数据'</span>;</div></pre></td></tr></table></figure></p>
<p>在Python中，我们没有过多的处理，数据是这个样子的<br><img src="http://upload-images.jianshu.io/upload_images/76024-81e13eefdf889f63.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>这一次呢，我们只需要关注一个字段即可company_industry，这是公司所属行业<br>这个行业呢，一般会有多个，像上海的这个挖财网，就是互联网+金融，有2个标签，中间是逗号分隔符</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-ab333f17e91f01ef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<a id="more"></a>
<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><h3 id="原始数据："><a href="#原始数据：" class="headerlink" title="原始数据："></a>原始数据：</h3><p>tm_lagou_data表中，company_industry（所属行业）字段可能会有多个值，并用逗号分隔<br><img src="http://upload-images.jianshu.io/upload_images/76024-1ce469095a15b9ce.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>我们的目的是把这个字段拆分，变成下面这样的数据</p>
<h3 id="处理后数据："><a href="#处理后数据：" class="headerlink" title="处理后数据："></a>处理后数据：</h3><p><img src="http://upload-images.jianshu.io/upload_images/76024-5750eafd236d2745.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h2><p>为了解决上面的问题，我们需要掌握的知识点如下：</p>
<ul>
<li><p>多表关联:<br><a href="https://yuguiyang.github.io/2017/09/09/mysql-handbook-03/">MySQL-关联查询</a><br><a href="http://www.runoob.com/mysql/mysql-join.html" target="_blank" rel="external">Mysql 连接的使用</a></p>
</li>
<li><p>字符串函数: <a href="https://dev.mysql.com/doc/refman/5.7/en/string-functions.html" target="_blank" rel="external">https://dev.mysql.com/doc/refman/5.7/en/string-functions.html</a></p>
</li>
</ul>
<h2 id="附"><a href="#附" class="headerlink" title="附"></a>附</h2><p>有了拆分后的数据，我们就可以看数据分析师的行业分布，哪个行业招的数据分析师最多，哪个行业招的最少了。<br><img src="http://upload-images.jianshu.io/upload_images/76024-608826b1e0bb4648.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MySQL&lt;br&gt;每周练习&lt;/p&gt;
&lt;p&gt;本周我们来一道数据处理的练习题。&lt;/p&gt;
&lt;h2 id=&quot;数据背景&quot;&gt;&lt;a href=&quot;#数据背景&quot; class=&quot;headerlink&quot; title=&quot;数据背景&quot;&gt;&lt;/a&gt;数据背景&lt;/h2&gt;&lt;p&gt;不知道大家学会爬虫了没，拉勾网的数据大家会爬取了吗？这道题和拉勾网有关哦。&lt;br&gt;假设你已经学会爬取数据了，可以将数据爬取下来，数据可能是这个样子(demo库中的tm_lagou_data表)：&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;`tm_lagou_data`&lt;/span&gt; (&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`city`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;城市&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`company_short_name`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;公司简称&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`company_full_name`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;公司全称&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`company_industry`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;所属行业&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`company_location`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;工作地点&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_advantage`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;岗位特点&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_salary`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;薪资&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_workyear`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;工作经验&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_name`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;50&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;职位名称&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_first_type`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;岗位类型-大类&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_second_type`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;岗位类型-小类&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_lables`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;岗位标签&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_id`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;岗位ID&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`create_time`&lt;/span&gt; datetime &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;发布时间&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`job_desc`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;comment&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;岗位描述&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;) &lt;span class=&quot;keyword&quot;&gt;ENGINE&lt;/span&gt;=&lt;span class=&quot;keyword&quot;&gt;InnoDB&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;CHARSET&lt;/span&gt;=utf8 &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;拉勾网-数据分析数据&#39;&lt;/span&gt;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;在Python中，我们没有过多的处理，数据是这个样子的&lt;br&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-81e13eefdf889f63.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;这一次呢，我们只需要关注一个字段即可company_industry，这是公司所属行业&lt;br&gt;这个行业呢，一般会有多个，像上海的这个挖财网，就是互联网+金融，有2个标签，中间是逗号分隔符&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-ab333f17e91f01ef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/categories/MySQL/"/>
    
    
      <category term="SQL" scheme="https://yuguiyang.github.io/tags/SQL/"/>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>数据分析师是否需要掌握SQL？</title>
    <link href="https://yuguiyang.github.io/2017/10/18/jotting-03/"/>
    <id>https://yuguiyang.github.io/2017/10/18/jotting-03/</id>
    <published>2017-10-18T12:00:00.000Z</published>
    <updated>2017-10-20T01:53:06.893Z</updated>
    
    <content type="html"><![CDATA[<p>前面，我们分析了一下数据分析师的前景<a href="https://yuguiyang.github.io/2017/10/18/jotting-02/">要不要找一份数据分析的工作？</a></p>
<p>这里，我们研究下，数据分析师是否需要掌握SQL。</p>
<h1 id="什么是数据分析师？"><a href="#什么是数据分析师？" class="headerlink" title="什么是数据分析师？"></a>什么是数据分析师？</h1><p>我们从字面来理解，数据分析师=数据+分析+师</p>
<h2 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h2><p>对于数据分析师来说，数据是基础，俗话说，巧妇难为无米之炊，没有数据，做什么可视化，做什么分析，<br>没有数据支撑的分析报告，一定是异想天开。<br>数据的来源通常有2中，一种是公司内部数据，一种是公司外部数据。<br>外部数据，我们可能需要通过第三方渠道购买，或者使用爬虫从网上爬取，通常的竞品分析啊，舆情分析啊，都属于这种；<br>内部数据，一般是公司业务数据，存储在数据库中，我们可以使用SQL来实现自己的业务需求。</p>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>有了数据，我们需要在业务的基础上，通过分析方法、分析思维、模型等来发现问题，验证问题。<br>这个分析一定要基于业务，脱离业务的分析是没有任何价值的。</p>
<a id="more"></a>
<h1 id="真的要掌握SQL吗？"><a href="#真的要掌握SQL吗？" class="headerlink" title="真的要掌握SQL吗？"></a>真的要掌握SQL吗？</h1><p>上面，我们说了，分析公司内部的数据，需要使用SQL，行业内的其他公司是不是也是这样呢？<br>前面，我们爬取了拉勾网的数据，这里，我们就可以通过招聘数据证明一下，数据分析师是否需要掌握SQL</p>
<p>我们根据岗位需求的标签和岗位描述来判断是否需要掌握SQL<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">IF (</div><div class="line">    CONTAINS(upper([position_lables]),'SQL')</div><div class="line">    OR </div><div class="line">    CONTAINS(upper([job_desc]),'SQL')</div><div class="line">    )</div><div class="line">THEN '是'</div><div class="line">ELSE '否'</div><div class="line"><span class="keyword">END</span></div></pre></td></tr></table></figure></p>
<p>就岗位数量来看，每个城市的岗位中，需要掌握SQL的岗位都超过50%<br><img src="http://upload-images.jianshu.io/upload_images/76024-f393f5f9b08e057c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>就算SQL不是数据分析师必备的技能，掌握了SQL，你就多了50%的机会，我们再来看下，哪些公司的岗位需要掌握SQL呢</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-4257c5cbbff62bab.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>这些都是互联网知名的企业，跟着他们走没有问题。</p>
<p>总上所述，掌握了SQL，不会吃亏，不会上当，不说啦，我得学习SQL去了。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;前面，我们分析了一下数据分析师的前景&lt;a href=&quot;https://yuguiyang.github.io/2017/10/18/jotting-02/&quot;&gt;要不要找一份数据分析的工作？&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这里，我们研究下，数据分析师是否需要掌握SQL。&lt;/p&gt;
&lt;h1 id=&quot;什么是数据分析师？&quot;&gt;&lt;a href=&quot;#什么是数据分析师？&quot; class=&quot;headerlink&quot; title=&quot;什么是数据分析师？&quot;&gt;&lt;/a&gt;什么是数据分析师？&lt;/h1&gt;&lt;p&gt;我们从字面来理解，数据分析师=数据+分析+师&lt;/p&gt;
&lt;h2 id=&quot;数据&quot;&gt;&lt;a href=&quot;#数据&quot; class=&quot;headerlink&quot; title=&quot;数据&quot;&gt;&lt;/a&gt;数据&lt;/h2&gt;&lt;p&gt;对于数据分析师来说，数据是基础，俗话说，巧妇难为无米之炊，没有数据，做什么可视化，做什么分析，&lt;br&gt;没有数据支撑的分析报告，一定是异想天开。&lt;br&gt;数据的来源通常有2中，一种是公司内部数据，一种是公司外部数据。&lt;br&gt;外部数据，我们可能需要通过第三方渠道购买，或者使用爬虫从网上爬取，通常的竞品分析啊，舆情分析啊，都属于这种；&lt;br&gt;内部数据，一般是公司业务数据，存储在数据库中，我们可以使用SQL来实现自己的业务需求。&lt;/p&gt;
&lt;h2 id=&quot;分析&quot;&gt;&lt;a href=&quot;#分析&quot; class=&quot;headerlink&quot; title=&quot;分析&quot;&gt;&lt;/a&gt;分析&lt;/h2&gt;&lt;p&gt;有了数据，我们需要在业务的基础上，通过分析方法、分析思维、模型等来发现问题，验证问题。&lt;br&gt;这个分析一定要基于业务，脱离业务的分析是没有任何价值的。&lt;/p&gt;
    
    </summary>
    
      <category term="随笔" scheme="https://yuguiyang.github.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="随笔" scheme="https://yuguiyang.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>要不要找一份数据分析的工作？</title>
    <link href="https://yuguiyang.github.io/2017/10/18/jotting-02/"/>
    <id>https://yuguiyang.github.io/2017/10/18/jotting-02/</id>
    <published>2017-10-18T09:00:00.000Z</published>
    <updated>2017-10-18T10:06:31.150Z</updated>
    
    <content type="html"><![CDATA[<p>前面，我们使用Python将拉勾网的数据爬取了下来，下面，我们就用Tableau做下探索式分析。</p>
<h1 id="数据基本情况介绍"><a href="#数据基本情况介绍" class="headerlink" title="数据基本情况介绍"></a>数据基本情况介绍</h1><p>我们在Python中只做了简单的清洗和整合，数据保存在MySQL中，数据只抓取了几个热门城市<br>表结构如下<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`tm_lagou_data`</span> (</div><div class="line">  <span class="string">`city`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'城市'</span>,</div><div class="line">  <span class="string">`company_short_name`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'公司简称'</span>,</div><div class="line">  <span class="string">`company_full_name`</span> <span class="built_in">varchar</span>(<span class="number">200</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'公司全称'</span>,</div><div class="line">  <span class="string">`company_industry`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'所属行业'</span>,</div><div class="line">  <span class="string">`company_location`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'工作地点'</span>,</div><div class="line">  <span class="string">`position_advantage`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'岗位特点'</span>,</div><div class="line">  <span class="string">`position_salary`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'薪资'</span>,</div><div class="line">  <span class="string">`position_workyear`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'工作经验'</span>,</div><div class="line">  <span class="string">`position_name`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'职位名称'</span>,</div><div class="line">  <span class="string">`position_first_type`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'岗位类型-大类'</span>,</div><div class="line">  <span class="string">`position_second_type`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'岗位类型-小类'</span>,</div><div class="line">  <span class="string">`position_lables`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'岗位标签'</span>,</div><div class="line">  <span class="string">`position_id`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'岗位ID'</span>,</div><div class="line">  <span class="string">`create_time`</span> datetime <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'发布时间'</span>,</div><div class="line">  <span class="string">`job_desc`</span> <span class="built_in">text</span> <span class="keyword">comment</span> <span class="string">'岗位描述'</span></div><div class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 <span class="keyword">COMMENT</span>=<span class="string">'拉勾网-数据分析数据'</span>;</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-0185d4d0faff7a03.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>洗个脸，刷个牙我们要开始分析啦。</p>
<h1 id="哪儿的数据分析岗位最多呢？"><a href="#哪儿的数据分析岗位最多呢？" class="headerlink" title="哪儿的数据分析岗位最多呢？"></a>哪儿的数据分析岗位最多呢？</h1><p>作为一名求职者，我想知道哪里的数据分析岗位最多，我以后要去哪个城市上班呢？是不是我喜欢的城市呢？<br>打开Tableau，连上数据库，我们开始<br>我们的数据中，有城市信息，也有招聘公司信息，岗位信息，所以这个很简单</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-f9cdb0b0c6cbb6e5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>我们会发现，北上深杭广招聘数据分析的公司和岗位最多，公司多，招聘的岗位也多嘛，<br>所以，如果要找数据分析的工作，在这几个城市还是很有机会的，随着北上广深等城市的带动，新一线城市后续应该也会逐渐提高对数据的重视，数据分析岗位应该会越来越多。<br>这里也发现一个有趣的问题，就是杭州和广州，以前我们说一线城市，可能主要是北上广深，最近几年随着杭州的崛起（我觉得和阿里有很大的关系），广州是不是逐渐的掉队了呢？</p>
<a id="more"></a>
<p>最近正好十九大，推出了纪念邮票，好多新闻都是这张图<br><img src="http://upload-images.jianshu.io/upload_images/76024-1998dc950f5d8c8e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>广州到底咋了，后面我们也可以找些数据分析下。<br>单从拉勾的招聘信息的确可以看出，杭州的对数据分析的需求量的确稍大于广州。<br>我们顺便看下杭州和广州，在哪些行业存在差距</p>
<p>就招聘数据分析的公司数量来看，移动互联网、金融、O2O等行业，杭州都明显多于广州，但一些行业，像游戏、娱乐，广州还是多于杭州的，这可能和创业的环境也有关系<br><img src="http://upload-images.jianshu.io/upload_images/76024-857c673018fb41b4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h1 id="是我喜欢的行业吗？"><a href="#是我喜欢的行业吗？" class="headerlink" title="是我喜欢的行业吗？"></a>是我喜欢的行业吗？</h1><p>以前刚毕业的时候，觉得行业不重要，哪里工资高我就去哪儿（当然，去哪儿不归我管，人家得要我啊）<br>工作这些年发现，选择一个喜欢的行业真的很重要，前面，我们也看了杭州和广州的行业分布，整体环境呢？<br><img src="http://upload-images.jianshu.io/upload_images/76024-35d172b71104af22.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>需求量最高的依然的移动互联网，现在都是互联网+，移动端更加的流量越来越大，这些行业也都走在技术前沿。</p>
<h1 id="数据分析对工作经验有啥要求？"><a href="#数据分析对工作经验有啥要求？" class="headerlink" title="数据分析对工作经验有啥要求？"></a>数据分析对工作经验有啥要求？</h1><p>前面我们知道了，北上深杭对数据分析师的需求量很大，我刚毕业，或者工作1，2年，可以去应聘吗？<br>我们来看看。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-11f6b1e49aacd60d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>就工作经验来看，北上深杭广70%以上的岗位都是1-3年、3-5年的工作经验，所以，好好准备下，放心大胆的投入数据分析的事业中去吧。<br>应届生也不用怕，可能校招的岗位这些互联网公司没有发在拉钩上，多关注企业的招聘公告和宣讲会之类的；这里还有不限工作经验的工作呢，只要你掌握数据分析的技能和相关知识，一定可以的。</p>
<h1 id="薪资够付房租吗？"><a href="#薪资够付房租吗？" class="headerlink" title="薪资够付房租吗？"></a>薪资够付房租吗？</h1><p>找工作一个是前景，一个是钱景，房租那么贵，数据分析师的工资咋样？<br>由于网上招聘的薪资，都是一个区间，比如 10K-20K，我就取了个平均值，然后取中位数，这样不是很严谨，但也能反映一些问题<br><img src="http://upload-images.jianshu.io/upload_images/76024-0c18e1c559e950df.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>整体来看，薪资还是基本符合大众情况的，但是北京那个10年以上的咋才16K呢？<br>一定还有别的附加福利，数据是上周爬的，现在已经没有了，等我后面重跑下脚本看看</p>
<p>单从工作经验来看薪资分布<br><img src="http://upload-images.jianshu.io/upload_images/76024-4a800a2c71166d63.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>练好技术，练好口才，面试时要谈好自己的工资啊，物价越来越高，不能光给我们谈理想，我们还得生活呢！</p>
<h1 id="有啥别的福利（面试时咋忽悠你）"><a href="#有啥别的福利（面试时咋忽悠你）" class="headerlink" title="有啥别的福利（面试时咋忽悠你）"></a>有啥别的福利（面试时咋忽悠你）</h1><p>拉勾上的招聘信息都有一个标签，岗位的一些优势，我们做成一个词云图看看</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-0b566aee1bf262ba.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>主要是基本的福利保障，弹性工作啊，带薪年假啊，年终奖啊，发展空间啥的，面试时，一定得问好，别不好意思问。</p>
<p>好辣，回到主题，我们要不要找一份数据分析的工作呢？</p>
<ul>
<li>机会很多，北上深杭广需求量都不少</li>
<li>行业也不错，紧随时代潮流</li>
<li>薪资也可以啊，主要还是看自己实力哈</li>
</ul>
<p>综上所述，数据分析很不靠谱，大家都不要来呦（老板，招不招数据分析，觉得我咋样）</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;前面，我们使用Python将拉勾网的数据爬取了下来，下面，我们就用Tableau做下探索式分析。&lt;/p&gt;
&lt;h1 id=&quot;数据基本情况介绍&quot;&gt;&lt;a href=&quot;#数据基本情况介绍&quot; class=&quot;headerlink&quot; title=&quot;数据基本情况介绍&quot;&gt;&lt;/a&gt;数据基本情况介绍&lt;/h1&gt;&lt;p&gt;我们在Python中只做了简单的清洗和整合，数据保存在MySQL中，数据只抓取了几个热门城市&lt;br&gt;表结构如下&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;`tm_lagou_data`&lt;/span&gt; (&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`city`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;城市&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`company_short_name`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;公司简称&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`company_full_name`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;公司全称&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`company_industry`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;所属行业&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`company_location`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;工作地点&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_advantage`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;岗位特点&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_salary`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;薪资&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_workyear`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;工作经验&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_name`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;50&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;职位名称&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_first_type`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;岗位类型-大类&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_second_type`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;岗位类型-小类&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_lables`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;岗位标签&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`position_id`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;varchar&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;20&lt;/span&gt;) &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;岗位ID&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`create_time`&lt;/span&gt; datetime &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;发布时间&#39;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;`job_desc`&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;comment&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;岗位描述&#39;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;) &lt;span class=&quot;keyword&quot;&gt;ENGINE&lt;/span&gt;=&lt;span class=&quot;keyword&quot;&gt;InnoDB&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;DEFAULT&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;CHARSET&lt;/span&gt;=utf8 &lt;span class=&quot;keyword&quot;&gt;COMMENT&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&#39;拉勾网-数据分析数据&#39;&lt;/span&gt;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-0185d4d0faff7a03.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;洗个脸，刷个牙我们要开始分析啦。&lt;/p&gt;
&lt;h1 id=&quot;哪儿的数据分析岗位最多呢？&quot;&gt;&lt;a href=&quot;#哪儿的数据分析岗位最多呢？&quot; class=&quot;headerlink&quot; title=&quot;哪儿的数据分析岗位最多呢？&quot;&gt;&lt;/a&gt;哪儿的数据分析岗位最多呢？&lt;/h1&gt;&lt;p&gt;作为一名求职者，我想知道哪里的数据分析岗位最多，我以后要去哪个城市上班呢？是不是我喜欢的城市呢？&lt;br&gt;打开Tableau，连上数据库，我们开始&lt;br&gt;我们的数据中，有城市信息，也有招聘公司信息，岗位信息，所以这个很简单&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-f9cdb0b0c6cbb6e5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;我们会发现，北上深杭广招聘数据分析的公司和岗位最多，公司多，招聘的岗位也多嘛，&lt;br&gt;所以，如果要找数据分析的工作，在这几个城市还是很有机会的，随着北上广深等城市的带动，新一线城市后续应该也会逐渐提高对数据的重视，数据分析岗位应该会越来越多。&lt;br&gt;这里也发现一个有趣的问题，就是杭州和广州，以前我们说一线城市，可能主要是北上广深，最近几年随着杭州的崛起（我觉得和阿里有很大的关系），广州是不是逐渐的掉队了呢？&lt;/p&gt;
    
    </summary>
    
      <category term="随笔" scheme="https://yuguiyang.github.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="随笔" scheme="https://yuguiyang.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
      <category term="数据分析报告" scheme="https://yuguiyang.github.io/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%8A%A5%E5%91%8A/"/>
    
  </entry>
  
  <entry>
    <title>MySQL-疑问汇总</title>
    <link href="https://yuguiyang.github.io/2017/10/12/mysql-handbook-12/"/>
    <id>https://yuguiyang.github.io/2017/10/12/mysql-handbook-12/</id>
    <published>2017-10-12T10:00:00.000Z</published>
    <updated>2017-10-13T14:05:15.391Z</updated>
    
    <content type="html"><![CDATA[<p>MySQL<br>疑问汇总</p>
<p>这里吧同学们遇到的问题都汇总起来，方便大家一起查阅。</p>
<h2 id="update-at-2017-10-13"><a href="#update-at-2017-10-13" class="headerlink" title="update at 2017-10-13"></a>update at 2017-10-13</h2><h3 id="Workbench安装问题"><a href="#Workbench安装问题" class="headerlink" title="Workbench安装问题"></a>Workbench安装问题</h3><p>昨天就说过Workbench的安装问题，具体的可以往下看，这里记录一个类似问题<br>因为安装Workbench需要一些依赖先安装，比如那个.NET Framework，官网上提供的连接地址应该没有修改，如果直接跳转去下载，应该是.NET FRAMEWORK４.５的，但实际安装的时候，是需要4.5.2的</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-dffabb12e4e55bb0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>而且在安装4.5的时候，可能还会遇到这样的情况，说本地已经安装过了，所以去下载4.5.2就可以了，<br><img src="http://upload-images.jianshu.io/upload_images/76024-5a3b8ff3e217c3c3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>后面经过同学的验证，就是这样解决的，没有问题。</p>
<a id="more"></a>
<h3 id="连接测试数据库"><a href="#连接测试数据库" class="headerlink" title="连接测试数据库"></a>连接测试数据库</h3><p>今天遇到一个使用客户端连接测试数据库一直不行的问题。背景是这样的：<br>测试数据库在阿里云上，很多人都可以访问，说明数据库配置啥的没有问题，但是有一位同学的电脑就是访问不了，报下面这个错误<br><img src="http://upload-images.jianshu.io/upload_images/76024-ef1392a615f872ca.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>网上也找过，都说是服务器端配置问题，但是已知服务器端没有问题，这就奇了怪了，该电脑也是可以ping通服务器的。后面了解到，这位同学是在外企，公司的网络是美国的网络，但是网上查说国外访问国内的阿里云是可以的。没有想到其他什么原因，估计就是所在的公司网络有问题，导致连不到阿里云。<br>最后，同学回家后，用家里的网络就可以访问了。<br>这种问题，常见解决方法就是，排查2个方面</p>
<ul>
<li>服务器端配置问题</li>
<li>本地网络问题</li>
</ul>
<p>###SQLZoo练习题<br>原题地址<a href="http://zh.sqlzoo.net/wiki/More_JOIN_operations" target="_blank" rel="external">http://zh.sqlzoo.net/wiki/More_JOIN_operations</a><br>第13题</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-8c0eb786227f36eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>这道题呢，不是很难，有2点比较难</p>
<ul>
<li>英文的，哈哈，借助了有道翻译</li>
<li>一个字段没理解含义，导致出错</li>
</ul>
<p>题目是啥意思呢？就是说要返回一个演员列表，按照字母顺序，主演过30个以上的角色<br>我们只要搞明白那几张表就行了</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-95c5eb48169c9f45.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>这个演员名单表，存的是电影ID和演员ID，注意这个ord表示的是，电影中演员的排名，ord=1才表示主演<br>参考介绍<a href="http://zh.sqlzoo.net/wiki/More_details_about_the_database." target="_blank" rel="external">http://zh.sqlzoo.net/wiki/More_details_about_the_database.</a></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-b457f4b239165e2b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>这些都搞明白，SQL就容易了<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="keyword">name</span> <span class="keyword">from</span> actor <span class="keyword">where</span> <span class="keyword">id</span> <span class="keyword">in</span> (<span class="keyword">select</span> actorid <span class="keyword">from</span> casting <span class="keyword">where</span> <span class="keyword">ord</span>=<span class="number">1</span> <span class="keyword">group</span> <span class="keyword">by</span> actorid <span class="keyword">having</span> <span class="keyword">count</span>(<span class="keyword">distinct</span> movieid)&gt;=<span class="number">30</span>)</div><div class="line"><span class="keyword">order</span> <span class="keyword">by</span> <span class="keyword">name</span> <span class="keyword">desc</span></div><div class="line"></div><div class="line"><span class="comment">-- 或者这样</span></div><div class="line"><span class="keyword">select</span> a.name <span class="keyword">from</span> actor a </div><div class="line"><span class="keyword">join</span> casting b <span class="keyword">on</span> a.id=b.actorid </div><div class="line"><span class="keyword">where</span> b.ord=<span class="number">1</span> </div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> a.name</div><div class="line"><span class="keyword">having</span> <span class="keyword">count</span>(<span class="keyword">distinct</span> b.movieid)&gt;=<span class="number">30</span></div></pre></td></tr></table></figure></p>
<p>上面的order by可以不要，好辣，今天问题整理到这里。</p>
<hr>
<h2 id="update-at-2017-10-12"><a href="#update-at-2017-10-12" class="headerlink" title="update at 2017-10-12"></a>update at 2017-10-12</h2><h3 id="1-Workbench、Navicat是干嘛的，和SQL有啥关系？"><a href="#1-Workbench、Navicat是干嘛的，和SQL有啥关系？" class="headerlink" title="1. Workbench、Navicat是干嘛的，和SQL有啥关系？"></a>1. Workbench、Navicat是干嘛的，和SQL有啥关系？</h3><p>Workbench和Navicat都是数据库管理工具，让我们可以方便快捷的管理和使用数据库。类似的工具有很多，免费的、收费的好多好多，就好像共享单车，ofo、mobike、小蓝单车、小鸣单车……用哪个都可以，看我们的选择了。</p>
<p>SQL呢？是一种查询语言，虽然和写代码编程有关，但是不用怕，记住九九乘法表，后面就是活学活用了。我们为了和数据库成为好朋友，得多和他聊天吧，但我们和他不是一个星球的，那咋办？巧了，他听得懂SQL，那我们学下SQL，就可以愉快的玩耍了。这里呢，我们还得注意一下，目前市场上在使用的数据库有很多，</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-2f8349a4793e8a7c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="dbs"></p>
<!-- more -->
<p>SQL是一套标准，其他每个数据库都会实现规定的基本功能，然后拓展些自己的语法，所以很不幸，换一个数据库，我们的SQL不一定完全跑的通。<br>但是，只要我们掌握了标准的SQL语法然后针对不同的数据库，关注下特殊语法就可以了（会骑ofo，换了Mobike就不会骑了吗？）</p>
<p>综上所述，我们是通过管理工具（Workbench、Navicat……）去使用和管理数据库（MySQL…..），在管理工具中，我们使用SQL来和数据库互动。</p>
<h3 id="2-Workbench的使用"><a href="#2-Workbench的使用" class="headerlink" title="2. Workbench的使用"></a>2. Workbench的使用</h3><p>参考：<a href="http://yuguiyang.github.io/2017/10/12/mysql-handbook-11/">MySQL-Workbench使用</a></p>
<h3 id="3-sqlzoo第九题"><a href="#3-sqlzoo第九题" class="headerlink" title="3. sqlzoo第九题"></a>3. sqlzoo第九题</h3><p>题目地址: <a href="https://sqlzoo.net/wiki/SELECT_within_SELECT_Tutorial/zh" target="_blank" rel="external">sqlzoo</a><br>首先是关于all的疑问</p>
<p>关于all可以参考这里先简单了解下：<a href="http://yuguiyang.github.io/2017/09/11/mysql-handbook-08/">MySQL-子查询的使用</a></p>
<p>SQL这样写是没问题的<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> </div><div class="line">    <span class="keyword">name</span>,</div><div class="line">    continent,</div><div class="line">    population </div><div class="line"><span class="keyword">FROM</span> </div><div class="line">    world x</div><div class="line">    <span class="comment">-- 返回符合条件的所有数据</span></div><div class="line"><span class="keyword">WHERE</span> </div><div class="line">    <span class="comment">-- 使用all，判断该州的所有人口数是否都 &lt;= 25000000</span></div><div class="line">    <span class="number">25000000</span>  &gt;= ALL(</div><div class="line">        <span class="comment">-- 我们使用子查询，获取每一个州的所有人口数</span></div><div class="line">        <span class="keyword">SELECT</span> </div><div class="line">            population </div><div class="line">        <span class="keyword">FROM</span> </div><div class="line">            world y </div><div class="line">        <span class="keyword">WHERE</span>  x.continent =y.continent</div><div class="line">    )</div></pre></td></tr></table></figure></p>
<ul>
<li>疑问1： 能不能把这个all放到后面像这样</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-a537d0341c36d46f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>答案是不行的，这个不符合all的使用语法，具体语法参考官方文档：<a href="https://dev.mysql.com/doc/refman/5.7/en/all-subqueries.html" target="_blank" rel="external">https://dev.mysql.com/doc/refman/5.7/en/all-subqueries.html</a></p>
<p>all一定要放在一个比较运算符的后面才行，所以，替换是不符合规范的，会报错<br><img src="http://upload-images.jianshu.io/upload_images/76024-5038df8497d11e52.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<ul>
<li>疑问2：为什么下面的写法不对<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span></div><div class="line">    <span class="keyword">name</span>,</div><div class="line">    continent,</div><div class="line">    population </div><div class="line"><span class="keyword">FROM</span> </div><div class="line">    world </div><div class="line"><span class="keyword">WHERE</span>  </div><div class="line">    <span class="number">25000000</span> &gt;= ALL(</div><div class="line">        <span class="keyword">SELECT</span> </div><div class="line">            <span class="keyword">MAX</span>(population) </div><div class="line">        <span class="keyword">FROM</span> </div><div class="line">            world  </div><div class="line">        <span class="keyword">GROUP</span> <span class="keyword">BY</span> </div><div class="line">            continent </div><div class="line">    )</div></pre></td></tr></table></figure>
</li>
</ul>
<p>我们分析下题目，他是说要查询出州下面每个城市的人口数都小于等于25000000的记录<br>上面我们就是使用all来实现去判断每个州下面的所有城市的人口数都&lt;= 25000000，现在呢，不想去判断每个城市的人口数了，我只要拿出该州下面最大的人口数，然后判断这个最大值是不是&lt;= 25000000就可以了。<br>思路是对的，但是SQL稍微有些问题<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- 要么返回所有记录，要么没有返回记录</span></div><div class="line"><span class="keyword">SELECT</span></div><div class="line">    <span class="keyword">name</span>,</div><div class="line">    continent,</div><div class="line">    population </div><div class="line"><span class="keyword">FROM</span> </div><div class="line">    world </div><div class="line"><span class="keyword">WHERE</span>  </div><div class="line">    <span class="comment">-- 因为主表world和子查询没有关联关系，所以这里的all就变成了“每个州的最大人口数是不是都 &lt;= 25000000</span></div><div class="line">    <span class="comment">-- 也就是说，下面子查询的返回值，如果都是 &lt;= 25000000，那就会返回world表的所有数据；如果有一个州的人口数 &gt;25000000，那就没有记录返回</span></div><div class="line">    <span class="number">25000000</span> &gt;= ALL(</div><div class="line">        <span class="comment">-- 获取每个州，最大的人口数</span></div><div class="line">        <span class="keyword">SELECT</span> </div><div class="line">            <span class="keyword">MAX</span>(population) </div><div class="line">        <span class="keyword">FROM</span> </div><div class="line">            world  </div><div class="line">        <span class="keyword">GROUP</span> <span class="keyword">BY</span> </div><div class="line">            continent </div><div class="line">    )</div></pre></td></tr></table></figure></p>
<p>所以，我们要做的改动，就是让主表和子查询有关联关系，即判断每一个州的最大值</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-6a16efbffe7d9a3e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>不使用all也可以，<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- 查询符合条件的州即可</span></div><div class="line"><span class="keyword">select</span> <span class="keyword">name</span>,continent,population <span class="keyword">from</span> world <span class="keyword">where</span> continent <span class="keyword">in</span> (</div><div class="line">    <span class="comment">-- 使用having直接过滤，判断每个州的最大人口是否&lt;= 25000000</span></div><div class="line">    <span class="keyword">select</span> continent <span class="keyword">from</span> world <span class="keyword">group</span> <span class="keyword">by</span> continent <span class="keyword">having</span> <span class="keyword">max</span>(population) &lt;= <span class="number">25000000</span></div><div class="line">)</div></pre></td></tr></table></figure></p>
<p>好了，这个问题，也写到这，大家可以看看还有没有别的写法。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MySQL&lt;br&gt;疑问汇总&lt;/p&gt;
&lt;p&gt;这里吧同学们遇到的问题都汇总起来，方便大家一起查阅。&lt;/p&gt;
&lt;h2 id=&quot;update-at-2017-10-13&quot;&gt;&lt;a href=&quot;#update-at-2017-10-13&quot; class=&quot;headerlink&quot; title=&quot;update at 2017-10-13&quot;&gt;&lt;/a&gt;update at 2017-10-13&lt;/h2&gt;&lt;h3 id=&quot;Workbench安装问题&quot;&gt;&lt;a href=&quot;#Workbench安装问题&quot; class=&quot;headerlink&quot; title=&quot;Workbench安装问题&quot;&gt;&lt;/a&gt;Workbench安装问题&lt;/h3&gt;&lt;p&gt;昨天就说过Workbench的安装问题，具体的可以往下看，这里记录一个类似问题&lt;br&gt;因为安装Workbench需要一些依赖先安装，比如那个.NET Framework，官网上提供的连接地址应该没有修改，如果直接跳转去下载，应该是.NET FRAMEWORK４.５的，但实际安装的时候，是需要4.5.2的&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-dffabb12e4e55bb0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;而且在安装4.5的时候，可能还会遇到这样的情况，说本地已经安装过了，所以去下载4.5.2就可以了，&lt;br&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-5a3b8ff3e217c3c3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;后面经过同学的验证，就是这样解决的，没有问题。&lt;/p&gt;
    
    </summary>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/categories/MySQL/"/>
    
    
      <category term="SQL" scheme="https://yuguiyang.github.io/tags/SQL/"/>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>MySQL-Workbench使用</title>
    <link href="https://yuguiyang.github.io/2017/10/12/mysql-handbook-11/"/>
    <id>https://yuguiyang.github.io/2017/10/12/mysql-handbook-11/</id>
    <published>2017-10-12T08:00:00.000Z</published>
    <updated>2017-10-12T10:00:18.478Z</updated>
    
    <content type="html"><![CDATA[<p>MySQL<br>Workbench使用</p>
<p>简单介绍下Workbench的使用<br>Workbench是MySQL官方提供的一个可视化管理工具，跨多个平台而且免费的，详情参考<a href="https://www.mysql.com/products/workbench/" target="_blank" rel="external">官网</a>。<br>我们从下载地址下载，安装就行了</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><img src="http://upload-images.jianshu.io/upload_images/76024-7b7ea58cc50de3b0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="workbench 安装"><br>可以单独下载，也可以使用提供的一个管理工具统一下载管理，管理工具提供了整个MySQL所有相关组件的统一管理维护，也挺方便。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-f1ad915acdeb4815.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="管理工具"></p>
<a id="more"></a>
<p>我们这里就是用独立安装包了，下载完之后安装，可能会失败，因为他有2个依赖要先安装，失败的话，会提示你缺少的依赖。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-e72ac9b47dc55954.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="依赖"></p>
<p>这里有个小坑，这里说的是.NET Framework 4.5，但实际上需要的是4.5.2貌似不太一样，所以刚刚一直安装失败，注意下就行了<a href="https://www.microsoft.com/en-us/download/details.aspx?id=42642" target="_blank" rel="external">.NET Framework 4.5.2</a></p>
<p>安装过程就是一路Next就行了，没啥特殊的。<br>安装完之后，我们在桌面或者菜单找到这个</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-df302f1ca148ad08.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>主界面应该是这样：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-464160f15ea2fc02.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="主界面"></p>
<h2 id="新建连接"><a href="#新建连接" class="headerlink" title="新建连接"></a>新建连接</h2><p>我们点击加号，新增一个连接<br><img src="http://upload-images.jianshu.io/upload_images/76024-b965fbf385983a07.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="新建连接"></p>
<p>在弹出的界面上，输入数据库的连接信息，就可以了，密码下图所示的地方输入</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-084e3359386f57c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="密码"></p>
<p>输入完成后，我们测试下连接是否正常<br><img src="http://upload-images.jianshu.io/upload_images/76024-e52ac70f136395ff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="测试连接"></p>
<p>都正常后，我们单击OK就好了</p>
<p>返回主界面后，可以看到我们刚刚新建的连接，我们双击就可以打开这个连接，开始我们的SQL学习了<br><img src="http://upload-images.jianshu.io/upload_images/76024-b9e4445db4c84577.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="成功的连接"></p>
<h2 id="功能介绍"><a href="#功能介绍" class="headerlink" title="功能介绍"></a>功能介绍</h2><p><img src="http://upload-images.jianshu.io/upload_images/76024-95ed8b3f264f8166.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="主界面介绍"><br>我们目前主要关心的是SQL的学习，所以那些管理功能可以先忽略掉<br>我们主要关注“当前可以使用的数据库”和SQL的编辑界面就OK了</p>
<p>我们以demo库为例</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-ed56a50a473520b3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="demo库"><br>这里就是demo库中的表，数据库中的数据是以表的形式保存的<br>比如，我们看看学生表的表结构信息，单击这个表旁边的”i”图标</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-4f73aaf40415718f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="表结构"></p>
<p>右边会显示一个表的信息界面，字段啊，索引啊，触发器之类的，我们这里就看看DDL<br><img src="http://upload-images.jianshu.io/upload_images/76024-74048925f5ad4b09.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="表信息"></p>
<p>这里展示的就是t_student表的表结构信息<br><img src="http://upload-images.jianshu.io/upload_images/76024-a669737616fa7148.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ddl"></p>
<h2 id="SQL练习"><a href="#SQL练习" class="headerlink" title="SQL练习"></a>SQL练习</h2><p>下面，我们看看，怎样去练习SQL<br>我们回到刚刚的query界面</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-78f35b844bccc1ea.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="query界面"></p>
<p>首先，我们要选择我们使用的数据库<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">use</span> demo;</div></pre></td></tr></table></figure></p>
<p>写好SQL，我们单击那个像闪电一样的图标执行，下面的输出窗口会显示执行结果，绿色的对号表示正确执行<br><img src="http://upload-images.jianshu.io/upload_images/76024-8e7af97235422c15.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="use db"></p>
<p>然后，就可以各种SQL开始练习了<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> *<span class="keyword">from</span> t_student;</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-e17c39c9930c96af.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="select"></p>
<p>后面，我们就可以参考前面的博客，开始学习吧<a href="https://yuguiyang.github.io/2017/09/09/mysql-handbook-01/">MySQL-基本语法介绍</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MySQL&lt;br&gt;Workbench使用&lt;/p&gt;
&lt;p&gt;简单介绍下Workbench的使用&lt;br&gt;Workbench是MySQL官方提供的一个可视化管理工具，跨多个平台而且免费的，详情参考&lt;a href=&quot;https://www.mysql.com/products/workbench/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;官网&lt;/a&gt;。&lt;br&gt;我们从下载地址下载，安装就行了&lt;/p&gt;
&lt;h2 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-7b7ea58cc50de3b0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;workbench 安装&quot;&gt;&lt;br&gt;可以单独下载，也可以使用提供的一个管理工具统一下载管理，管理工具提供了整个MySQL所有相关组件的统一管理维护，也挺方便。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-f1ad915acdeb4815.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;管理工具&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/categories/MySQL/"/>
    
    
      <category term="SQL" scheme="https://yuguiyang.github.io/tags/SQL/"/>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>Tableau实例-帕累托图</title>
    <link href="https://yuguiyang.github.io/2017/09/20/Tableau-handbook-06/"/>
    <id>https://yuguiyang.github.io/2017/09/20/Tableau-handbook-06/</id>
    <published>2017-09-20T02:00:00.000Z</published>
    <updated>2017-09-19T16:08:05.729Z</updated>
    
    <content type="html"><![CDATA[<p>Tableau实例<br>帕累托图</p>
<p>前面，我们了解了<a href="https://yuguiyang.github.io/2017/09/18/jotting-01/">《帕累托的故事》</a> 和 <a href="https://yuguiyang.github.io//2017/09/18/analysis-method-01/">二八定律与长尾理论</a>，这里，我们学习下，在Tableau中，如何适用Tableau来绘制帕累托图。</p>
<h1 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h1><p>数据源：官方数据源“示例-超市”<br>因为，帕累托分布，主要是20%的商品可以产生80%的价值，所以，我们可以使用示例数据中的订单数据，来看看订单的销量是否符合帕累托分布。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-b95435afb86c9e6f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="数据源"></p>
<h1 id="初级-每个类别的销售额分布"><a href="#初级-每个类别的销售额分布" class="headerlink" title="初级-每个类别的销售额分布"></a>初级-每个类别的销售额分布</h1><p>我们先来研究下，看产品的类别销售额是否符合帕累托分布，帕累托图有一个柱形图，有一个折线图，<br>柱形图，表示每个类别的销售额，而折线图表示每个类别的销售额占比</p>
<p>柱形图就直接使用子类别和销售额就行了<br><img src="http://upload-images.jianshu.io/upload_images/76024-d8b12c89ef4325c7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="每个类别的销售额"></p>
<p>然后，我们实现折线图<br>在行中，再拖一个销售额</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-15ceac91c846b724.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<a id="more"></a>
<p>然后修改标记的类型，改为“线”<br><img src="http://upload-images.jianshu.io/upload_images/76024-c8c25bc1f1f3b1bd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>效果图<br><img src="http://upload-images.jianshu.io/upload_images/76024-483c6800fce90cea.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>但这个折线图，并不是我们要的，我们想要的是一个占总额的百分比<br>我们要修改第2个“总计销售额”，添加表计算<br><img src="http://upload-images.jianshu.io/upload_images/76024-93bbe88f5b45395a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>我们主要计算类型，选择汇总-总计，并且勾选“添加辅助计算”，选择“总额百分比”<br><img src="http://upload-images.jianshu.io/upload_images/76024-5f3203403d0caf28.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>我们把修改好的“总额百分比”，拖到“标签”上，然后效果如图所示<br><img src="http://upload-images.jianshu.io/upload_images/76024-b54c815aedd3bbf9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>顺手，我们修改下折线图的颜色，因为后面，我们还要合并呢<br><img src="http://upload-images.jianshu.io/upload_images/76024-2efbd4852bac024a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>我们再折线图的y轴上，右键，单击选择“双轴”<br><img src="http://upload-images.jianshu.io/upload_images/76024-75a6f4ffaf3f25a0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>他自动会变成这样，我们得手动改成柱形图和折线图（颜色也白改了…）<br><img src="http://upload-images.jianshu.io/upload_images/76024-6e96af2abe9baced.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>调整完之后，就是这样啦，<br><img src="http://upload-images.jianshu.io/upload_images/76024-7caeefa153b36655.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>我们调整下柱形图的y轴刻度，让他更像些</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-f06a129d1a45c22a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-47444732bcb67aa7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-2a98f1e8e1e85960.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h1 id="进阶-产品占比与销售额占比"><a href="#进阶-产品占比与销售额占比" class="headerlink" title="进阶-产品占比与销售额占比"></a>进阶-产品占比与销售额占比</h1><p>上面，我们做的是，哪些类别的销售额占80%，这里，我们想根据产品来看，并且想知道产品的百分之多少占了80%的销售额</p>
<p>和上面的步骤类似，这里，我们使用产品名称，效果如图<br><img src="http://upload-images.jianshu.io/upload_images/76024-60225105a25296c1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>但是这里，产品实在是太多了，我们想让x轴更简洁一些，就显示百分比好了</p>
<p>未完待续……</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Tableau实例&lt;br&gt;帕累托图&lt;/p&gt;
&lt;p&gt;前面，我们了解了&lt;a href=&quot;https://yuguiyang.github.io/2017/09/18/jotting-01/&quot;&gt;《帕累托的故事》&lt;/a&gt; 和 &lt;a href=&quot;https://yuguiyang.github.io//2017/09/18/analysis-method-01/&quot;&gt;二八定律与长尾理论&lt;/a&gt;，这里，我们学习下，在Tableau中，如何适用Tableau来绘制帕累托图。&lt;/p&gt;
&lt;h1 id=&quot;准备&quot;&gt;&lt;a href=&quot;#准备&quot; class=&quot;headerlink&quot; title=&quot;准备&quot;&gt;&lt;/a&gt;准备&lt;/h1&gt;&lt;p&gt;数据源：官方数据源“示例-超市”&lt;br&gt;因为，帕累托分布，主要是20%的商品可以产生80%的价值，所以，我们可以使用示例数据中的订单数据，来看看订单的销量是否符合帕累托分布。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-b95435afb86c9e6f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;数据源&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;初级-每个类别的销售额分布&quot;&gt;&lt;a href=&quot;#初级-每个类别的销售额分布&quot; class=&quot;headerlink&quot; title=&quot;初级-每个类别的销售额分布&quot;&gt;&lt;/a&gt;初级-每个类别的销售额分布&lt;/h1&gt;&lt;p&gt;我们先来研究下，看产品的类别销售额是否符合帕累托分布，帕累托图有一个柱形图，有一个折线图，&lt;br&gt;柱形图，表示每个类别的销售额，而折线图表示每个类别的销售额占比&lt;/p&gt;
&lt;p&gt;柱形图就直接使用子类别和销售额就行了&lt;br&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-d8b12c89ef4325c7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;每个类别的销售额&quot;&gt;&lt;/p&gt;
&lt;p&gt;然后，我们实现折线图&lt;br&gt;在行中，再拖一个销售额&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-15ceac91c846b724.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Tableau" scheme="https://yuguiyang.github.io/categories/Tableau/"/>
    
    
      <category term="数据可视化" scheme="https://yuguiyang.github.io/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"/>
    
      <category term="Tableau" scheme="https://yuguiyang.github.io/tags/Tableau/"/>
    
  </entry>
  
  <entry>
    <title>二八定律与长尾理论</title>
    <link href="https://yuguiyang.github.io/2017/09/18/analysis-method-01/"/>
    <id>https://yuguiyang.github.io/2017/09/18/analysis-method-01/</id>
    <published>2017-09-18T01:08:00.000Z</published>
    <updated>2017-09-19T14:07:05.940Z</updated>
    
    <content type="html"><![CDATA[<h1 id="二八定律"><a href="#二八定律" class="headerlink" title="二八定律"></a>二八定律</h1><p>前面，我们整理了<a href="https://yuguiyang.github.io/2017/09/18/jotting-01/">《帕累托的故事》</a>，里面有说过“帕累托法则”，就是这个二八定律，简单说来，就是</p>
<blockquote>
<p>世界上20%的人占有80%的财富，即财富的分布式是不平衡的</p>
</blockquote>
<p>这里理论不单单应用在经济学领域，其他领域也一样适用。比如：<br>在零售或销售行业，80%的利润可能来自20%的客户，所以运用该分析方法，就可以专注于维护这20%的客户，而不是将主要精力放在那80%的客户身上，因为他们只产生了20%的利润。通过80/20分析方法，可以有效的找到影响利润的主要因素</p>
<h2 id="二八定律应用场景"><a href="#二八定律应用场景" class="headerlink" title="二八定律应用场景"></a>二八定律应用场景</h2><p>这里列举几个广泛使用的场景</p>
<ul>
<li>在管理学中，企业80%的利润来自20%的项目或客户</li>
<li>心理学中，20%的人身上集中了80%的智慧，他们一出生就鹤立鸡群</li>
<li>20%的有目标，80%的人爱瞎想</li>
<li>20%的人把握机会，80%错失机会</li>
<li>20%的人会坚持，80%的人会放弃</li>
</ul>
<a id="more"></a>
<h1 id="长尾理论"><a href="#长尾理论" class="headerlink" title="长尾理论"></a>长尾理论</h1><p>长尾理论的关注点和二八定律不同，上面是说要关注产生重大影响的20%，而长尾理论则提倡关注剩下的那80%，在一些互联网公司，如果那80%的尾巴足够长，就可能会产生超过前面20%的那部分产生的利润。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-6262d4b48f4a778d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="长尾理论"><br>在互联网时代，关注成本或是生产、运输成本都大大的降低，这长尾巴就产生了优势。<br>该理论在Google、亚马逊、沃尔玛，都用数据证实过，互联网行业尤其适用。</p>
<h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><p>二八定律的话，告诉我们关注可以产生重大影响的事情，抓住主要的；<br>长尾理论的应用应该还是处在互联网公司中，等看看那本书，详细了解下。<br>有的时候，换个角度看问题，的确可以发现不一样的世界。</p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>资料来源“百度百科”，“维基百科”</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;二八定律&quot;&gt;&lt;a href=&quot;#二八定律&quot; class=&quot;headerlink&quot; title=&quot;二八定律&quot;&gt;&lt;/a&gt;二八定律&lt;/h1&gt;&lt;p&gt;前面，我们整理了&lt;a href=&quot;https://yuguiyang.github.io/2017/09/18/jotting-01/&quot;&gt;《帕累托的故事》&lt;/a&gt;，里面有说过“帕累托法则”，就是这个二八定律，简单说来，就是&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;世界上20%的人占有80%的财富，即财富的分布式是不平衡的&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这里理论不单单应用在经济学领域，其他领域也一样适用。比如：&lt;br&gt;在零售或销售行业，80%的利润可能来自20%的客户，所以运用该分析方法，就可以专注于维护这20%的客户，而不是将主要精力放在那80%的客户身上，因为他们只产生了20%的利润。通过80/20分析方法，可以有效的找到影响利润的主要因素&lt;/p&gt;
&lt;h2 id=&quot;二八定律应用场景&quot;&gt;&lt;a href=&quot;#二八定律应用场景&quot; class=&quot;headerlink&quot; title=&quot;二八定律应用场景&quot;&gt;&lt;/a&gt;二八定律应用场景&lt;/h2&gt;&lt;p&gt;这里列举几个广泛使用的场景&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在管理学中，企业80%的利润来自20%的项目或客户&lt;/li&gt;
&lt;li&gt;心理学中，20%的人身上集中了80%的智慧，他们一出生就鹤立鸡群&lt;/li&gt;
&lt;li&gt;20%的有目标，80%的人爱瞎想&lt;/li&gt;
&lt;li&gt;20%的人把握机会，80%错失机会&lt;/li&gt;
&lt;li&gt;20%的人会坚持，80%的人会放弃&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="数据分析思维" scheme="https://yuguiyang.github.io/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4/"/>
    
    
      <category term="数据分析思维" scheme="https://yuguiyang.github.io/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%80%9D%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title>帕累托的故事</title>
    <link href="https://yuguiyang.github.io/2017/09/18/jotting-01/"/>
    <id>https://yuguiyang.github.io/2017/09/18/jotting-01/</id>
    <published>2017-09-18T00:08:00.000Z</published>
    <updated>2017-09-19T06:54:17.020Z</updated>
    
    <content type="html"><![CDATA[<p>周末听Tableau的一个培训，遇到一个帕累托图，就是关于二八定律的那个帕累托，就想着，他到底是干嘛的呢，然后，就有了这篇《帕累托的故事》，让我们开始了解一下这个经济学家。</p>
<h1 id="帕累托简介"><a href="#帕累托简介" class="headerlink" title="帕累托简介"></a>帕累托简介</h1><blockquote>
<p>维弗雷多·帕累托（Vilfredo Pareto ，1848年7月15日—1923年8月19日），意大利经济学家、社会学家，洛桑学派的主要代表之一。生于巴黎，曾就读于意大利都灵大学，后来任瑞士洛桑大学教授。<br>– 百度百科</p>
</blockquote>
<p>哦，他是一个经济学家、社会学家，怪不得会提出<strong>“20%的人掌握着百分之80%的财富”</strong>，以前，是先知道这句话，然后才知道帕累托的大名的。</p>
<h2 id="洛桑学派"><a href="#洛桑学派" class="headerlink" title="洛桑学派"></a>洛桑学派</h2><p>洛桑学派主要代表之一，什么是洛桑学派，干嘛的呢？估计是因为在洛桑大学任教，所以统称为<strong>“洛桑学派”</strong>吧</p>
<blockquote>
<p>“洛桑学派”指的是，以法国人瓦尔拉斯和意大利人帕累托为中心的新古典思想流派的一支。洛桑学派的主要特点在于它对一般均衡理论的推进，从而在广度上和深度上都扩大了新古典研究方法在经济学上的适用性。洛桑学派也被称为“数理学派”（因为它们强调数理的解释说明）或者“意大利学派”（因为在早期的队伍里有很多意大利人）。<br>– 百度百科</p>
</blockquote>
<a id="more"></a>
<p>数理学派，难道就是用数学和统计学来证明一些经济学理论？感觉好像是这样，他们一定是实战派，用数理方法来验证实际问题，厉害。<br>“对一般均衡理论的推进”，看看这个一般均衡理论是啥？</p>
<h2 id="一般均衡理论"><a href="#一般均衡理论" class="headerlink" title="一般均衡理论"></a>一般均衡理论</h2><blockquote>
<p>一般均衡理论（General Equilibrium Theory） 是1874年法国经济学家瓦尔拉斯在他的《纯粹经济学要义》中创立的。瓦尔拉斯认为，整个经济体系处于均衡状态时，所有消费品和生产要素的价格将有一个确定的均衡值，它们的产出和供给，将有一个确定的均衡量。他还认为在“完全竞争”的均衡条件下，出售一切生产要素的总收入和出售一切消费品的总收入必将相等。<br>该理论的实质是说明资本主义经济可以处于稳定的均衡状态。在资本主义经济中，消费者可以获得最大效用，企业家可以获得最大利润，生产要素的所有者可以得到最大报酬。<br>– 百度百科</p>
</blockquote>
<p>有点儿不明觉厉，反正是一个经济上了一个什么理论，果然是通过各种数理知识来解决真正改的经济学问题，大师就是大师，膜拜。<br>帕累托基于这个思路，进一步延伸和拓展了这一理论。</p>
<h1 id="主要成就"><a href="#主要成就" class="headerlink" title="主要成就"></a>主要成就</h1><p>下面，我们来了解下他的主要成就，仰望下大师</p>
<h2 id="帕累托法则"><a href="#帕累托法则" class="headerlink" title="帕累托法则"></a>帕累托法则</h2><p>这就是前面说到的那个80/20法则、二八定律</p>
<blockquote>
<p>帕累托法则是指在任何大系统中，约80%的结果是由该系统中约20%的变量产生的。</p>
</blockquote>
<p>帕累托主要是研究经济学和社会学的，在1906年，他观察了意大利的财富分配情况，发现80%的财富掌握在20%的人手里，<br>好残酷，但现实就是这样，我一定是那个80%里面的80%的里面的80%……</p>
<p>抽象一下，就变成这样：</p>
<blockquote>
<p>在任何特定群体中，重要的因子通常只占少数，而不重要的因子则占多数，因此只要能控制具有重要性的少数因子即能控制全局。</p>
</blockquote>
<p>一开始这一理论只限定于经济领域，后来逐步推广到各个领域，而且深为人们认同。<br>根据帕累托法则，延伸出很多的有趣的结论，像：</p>
<ul>
<li>世界上80%的资源是由15%的人口耗尽的</li>
<li>企业中80%的利润来自于20%的项目或客户</li>
<li>时间管理中，20%的项目或付出可以得来80%的成绩</li>
</ul>
<p>我们可以从不同的角度去理解和应用这一原则，比如：时间管理，财务管理、员工管理、市场营销等等，都会有意想不到的收获。</p>
<h2 id="帕累托最优"><a href="#帕累托最优" class="headerlink" title="帕累托最优"></a>帕累托最优</h2><p>帕累托最优(Pareto Optimality)也称为帕累托效率（Pareto Efficiency）、帕雷托最佳配置，是博弈论中的重要概念，并且在经济学， 工程学和社会科学中有着广泛的应用。 </p>
<blockquote>
<p>帕累托最优是指资源分配的一种理想状态，假定固有的一群人和可分配的资源，从一种分配状态到另一种状态的变化中，在没有使任何人境况变坏的前提下，使得至少一个人变得更好，这就是帕累托改进或帕累托最优化。帕累托最优的状态就是不可能再有更多的帕累托改进的余地；换句话说，帕累托改进是达到帕累托最优的路径和方法。帕累托最优是公平与效率的“理想王国”。</p>
</blockquote>
<p>这个也很有意思，<del>直白点儿说就是，你想要过的更好，就一定会有一个人过的更差，你想要挣更多的钱，就一定会有一个人挣更少的钱，又是一个残酷的现实啊</del>。<br>上面理解错了，帕累托最优说的是，在你挣了更多的钱的同时，也没有人因此少挣钱，强调的是不能减少任何一个人的福利。<br>维基百科上有一个例子：<br>说是有假设一个社会上，只有一个百万富翁和一个快饿死的乞丐，如果富翁拿出自己财富的万分之一，就可以让乞丐免于死亡，但是这样就损害了富翁的福利（假设乞丐没有可以回报富翁的服务或资源），这种财富转移，并不是“帕累托改进”，而这种社会被称为帕累托最优的。<br>帕累托最优，说的应该是一种理想社会，社会资源的分配已经非常合理，不会损害任何人的福利，但是这种社会里依然存在着富有与贫穷，依然存在贫富差距。</p>
<h1 id="帕累托图"><a href="#帕累托图" class="headerlink" title="帕累托图"></a>帕累托图</h1><p>帕累托图又叫排列图、主次图,是按照发生频率大小顺序绘制的直方图，表示有多少结果是由已确认类型或范畴的原因所造成。<br>帕累托图在项目管理中主要用来找出产生大多数问题的关键原因，用来解决大多数问题。通过这个图，就可以看出80%的财富掌握在20%的人手里。<br><img src="http://upload-images.jianshu.io/upload_images/76024-21f806599e2b4a7e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="帕累托图"></p>
<h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><p>上面的内容有些比较难懂，需要慢慢的消化，后续等了解的更多了，会再补充。</p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p>这里整理的时候，综合了“百度百科”，“维基百科”等等网上资料</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;周末听Tableau的一个培训，遇到一个帕累托图，就是关于二八定律的那个帕累托，就想着，他到底是干嘛的呢，然后，就有了这篇《帕累托的故事》，让我们开始了解一下这个经济学家。&lt;/p&gt;
&lt;h1 id=&quot;帕累托简介&quot;&gt;&lt;a href=&quot;#帕累托简介&quot; class=&quot;headerlink&quot; title=&quot;帕累托简介&quot;&gt;&lt;/a&gt;帕累托简介&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;维弗雷多·帕累托（Vilfredo Pareto ，1848年7月15日—1923年8月19日），意大利经济学家、社会学家，洛桑学派的主要代表之一。生于巴黎，曾就读于意大利都灵大学，后来任瑞士洛桑大学教授。&lt;br&gt;– 百度百科&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;哦，他是一个经济学家、社会学家，怪不得会提出&lt;strong&gt;“20%的人掌握着百分之80%的财富”&lt;/strong&gt;，以前，是先知道这句话，然后才知道帕累托的大名的。&lt;/p&gt;
&lt;h2 id=&quot;洛桑学派&quot;&gt;&lt;a href=&quot;#洛桑学派&quot; class=&quot;headerlink&quot; title=&quot;洛桑学派&quot;&gt;&lt;/a&gt;洛桑学派&lt;/h2&gt;&lt;p&gt;洛桑学派主要代表之一，什么是洛桑学派，干嘛的呢？估计是因为在洛桑大学任教，所以统称为&lt;strong&gt;“洛桑学派”&lt;/strong&gt;吧&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“洛桑学派”指的是，以法国人瓦尔拉斯和意大利人帕累托为中心的新古典思想流派的一支。洛桑学派的主要特点在于它对一般均衡理论的推进，从而在广度上和深度上都扩大了新古典研究方法在经济学上的适用性。洛桑学派也被称为“数理学派”（因为它们强调数理的解释说明）或者“意大利学派”（因为在早期的队伍里有很多意大利人）。&lt;br&gt;– 百度百科&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="随笔" scheme="https://yuguiyang.github.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="随笔" scheme="https://yuguiyang.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>MySQL-自增列</title>
    <link href="https://yuguiyang.github.io/2017/09/12/mysql-handbook-10/"/>
    <id>https://yuguiyang.github.io/2017/09/12/mysql-handbook-10/</id>
    <published>2017-09-12T00:00:00.000Z</published>
    <updated>2017-09-15T07:09:23.149Z</updated>
    
    <content type="html"><![CDATA[<p>MySQL<br>自增列</p>
<h1 id="什么是自增列"><a href="#什么是自增列" class="headerlink" title="什么是自增列"></a>什么是自增列</h1><p>自增列就是一个自动增长的列，他没有什么业务含义，一般可能用来做主键，作为唯一标识。<br>自增列一般是一个整数，相比其他的UUID占用的存储更少，网络资源占用也少。如果考虑其他因素的话，UUID使用也很多。<br>实际应用还要考虑很多问题，不能单纯的使用</p>
<h1 id="自增列是使用"><a href="#自增列是使用" class="headerlink" title="自增列是使用"></a>自增列是使用</h1><p>我们可以再create table的时候，就定义好自增列<br>我们使用关键字 auto_increment 来指定。<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">mysql&gt; create table t_book_1(</div><div class="line">    -&gt; id int auto_increment,</div><div class="line">    -&gt; f_name varchar(10),</div><div class="line">    -&gt; primary key(id)</div><div class="line">    -&gt; );</div></pre></td></tr></table></figure></p>
<p>这里的话，一定要让自增列是主键，不然会报错</p>
<a id="more"></a>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">mysql&gt; create table t_book_2(</div><div class="line">    -&gt; id int auto_increment,</div><div class="line">    -&gt; f_name varchar(10),</div><div class="line">    -&gt; f_other varchar(10)</div><div class="line">    -&gt; );</div><div class="line">ERROR 1075 (42000): Incorrect table definition; there can be only one auto column and it must be defined as a key</div></pre></td></tr></table></figure>
<p>另一种方式就是先建表，后面再修改为auto_increment<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">mysql&gt; create table t_book_2(</div><div class="line">    -&gt; id int ,</div><div class="line">    -&gt; f_name varchar(10)</div><div class="line">    -&gt; );</div><div class="line">Query OK, 0 rows affected (0.01 sec)</div><div class="line"></div><div class="line">mysql&gt; alter table t_book_2 add primary key(id);</div><div class="line">Query OK, 0 rows affected (0.02 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; alter table t_book_2 modify id int auto_increment;</div><div class="line">Query OK, 0 rows affected (0.02 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div></pre></td></tr></table></figure></p>
<h1 id="重置自增列"><a href="#重置自增列" class="headerlink" title="重置自增列"></a>重置自增列</h1><p>一般自增列，都是自动赋值的，我们先插入几条记录试试<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">mysql&gt; insert into t_book_2(f_name) values('aa');</div><div class="line">Query OK, 1 row affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_book_2(f_name) values('bb');</div><div class="line">Query OK, 1 row affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_book_2(f_name) values('cc');</div><div class="line">Query OK, 1 row affected (0.01 sec)</div><div class="line"></div><div class="line">mysql&gt; select *from t_book_2;</div><div class="line">+<span class="comment">----+--------+</span></div><div class="line">| id | f_name |</div><div class="line">+<span class="comment">----+--------+</span></div><div class="line">|  1 | aa     |</div><div class="line">|  2 | bb     |</div><div class="line">|  3 | cc     |</div><div class="line">+<span class="comment">----+--------+</span></div><div class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</div></pre></td></tr></table></figure></p>
<p>这时候，自增列已经到3了，如果我们删除了一条数据，<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; delete from t_book_2 where id=3;</div><div class="line">Query OK, 1 row affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_book_2(f_name) values('dd');</div><div class="line">Query OK, 1 row affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select *from t_book_2;</div><div class="line">+<span class="comment">----+--------+</span></div><div class="line">| id | f_name |</div><div class="line">+<span class="comment">----+--------+</span></div><div class="line">|  1 | aa     |</div><div class="line">|  2 | bb     |</div><div class="line">|  4 | dd     |</div><div class="line">+<span class="comment">----+--------+</span></div><div class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</div></pre></td></tr></table></figure></p>
<p>序列并不会重新从3开始，如果我们清空，也是一样的。那怎样可以重置自增列呢？</p>
<h2 id="使用truncate自动重置"><a href="#使用truncate自动重置" class="headerlink" title="使用truncate自动重置"></a>使用truncate自动重置</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">mysql&gt; truncate table t_book_2;</div><div class="line">Query OK, 0 rows affected (0.01 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_book_2(f_name) values('ee');</div><div class="line">Query OK, 1 row affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select *from t_book_2;</div><div class="line">+<span class="comment">----+--------+</span></div><div class="line">| id | f_name |</div><div class="line">+<span class="comment">----+--------+</span></div><div class="line">|  1 | ee     |</div><div class="line">+<span class="comment">----+--------+</span></div><div class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</div></pre></td></tr></table></figure>
<h2 id="手工修改"><a href="#手工修改" class="headerlink" title="手工修改"></a>手工修改</h2><p>我们可以使用命令<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- 我们可以修改为我们想要的值，但如果表中有数据的话，如果修改</span></div><div class="line"><span class="comment">-- 的值比当前最大值小，则会重置为最大值+1</span></div><div class="line"><span class="keyword">alter</span> <span class="keyword">table</span> table_name auto_increment = <span class="number">1</span>;</div></pre></td></tr></table></figure></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">mysql&gt; delete from t_book_2 where id=3;</div><div class="line">Query OK, 1 row affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; alter table t_book_2 auto_increment=3;</div><div class="line">Query OK, 0 rows affected (0.00 sec)</div><div class="line">Records: 0  Duplicates: 0  Warnings: 0</div><div class="line"></div><div class="line">mysql&gt; insert into t_book_2(f_name) values('hh');</div><div class="line">Query OK, 1 row affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; select *from t_book_2;</div><div class="line">+<span class="comment">----+--------+</span></div><div class="line">| id | f_name |</div><div class="line">+<span class="comment">----+--------+</span></div><div class="line">|  1 | ee     |</div><div class="line">|  2 | ff     |</div><div class="line">|  3 | hh     |</div><div class="line">+<span class="comment">----+--------+</span></div><div class="line">3 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</div></pre></td></tr></table></figure>
<h2 id="直接drop，重新create"><a href="#直接drop，重新create" class="headerlink" title="直接drop，重新create"></a>直接drop，重新create</h2><p>这个方法就不练习了，</p>
<h1 id="手动给自增列赋值"><a href="#手动给自增列赋值" class="headerlink" title="手动给自增列赋值"></a>手动给自增列赋值</h1><p>在insert的时候，手动给自增列赋值，也是可以的，<br>手动赋值后，我们再插入的时候，就会使用当前自增序列的最大值<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">mysql&gt; insert into t_book_2(id,f_name) values(9,'xx');</div><div class="line">Query OK, 1 row affected (0.00 sec)</div><div class="line"></div><div class="line">mysql&gt; insert into t_book_2(f_name) values('yy');</div><div class="line">Query OK, 1 row affected (0.01 sec)</div><div class="line"></div><div class="line">mysql&gt; select *from t_book_2;</div><div class="line">+<span class="comment">----+--------+</span></div><div class="line">| id | f_name |</div><div class="line">+<span class="comment">----+--------+</span></div><div class="line">|  1 | ee     |</div><div class="line">|  2 | ff     |</div><div class="line">|  3 | hh     |</div><div class="line">|  9 | xx     |</div><div class="line">| 10 | yy     |</div><div class="line">+<span class="comment">----+--------+</span></div><div class="line">5 rows in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</div></pre></td></tr></table></figure></p>
<h1 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h1><p>发现一篇好文章，讲的还不错：<a href="http://www.trueeyu.com/2016/06/21/increment-column/" target="_blank" rel="external">数据库自增列</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MySQL&lt;br&gt;自增列&lt;/p&gt;
&lt;h1 id=&quot;什么是自增列&quot;&gt;&lt;a href=&quot;#什么是自增列&quot; class=&quot;headerlink&quot; title=&quot;什么是自增列&quot;&gt;&lt;/a&gt;什么是自增列&lt;/h1&gt;&lt;p&gt;自增列就是一个自动增长的列，他没有什么业务含义，一般可能用来做主键，作为唯一标识。&lt;br&gt;自增列一般是一个整数，相比其他的UUID占用的存储更少，网络资源占用也少。如果考虑其他因素的话，UUID使用也很多。&lt;br&gt;实际应用还要考虑很多问题，不能单纯的使用&lt;/p&gt;
&lt;h1 id=&quot;自增列是使用&quot;&gt;&lt;a href=&quot;#自增列是使用&quot; class=&quot;headerlink&quot; title=&quot;自增列是使用&quot;&gt;&lt;/a&gt;自增列是使用&lt;/h1&gt;&lt;p&gt;我们可以再create table的时候，就定义好自增列&lt;br&gt;我们使用关键字 auto_increment 来指定。&lt;br&gt;&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;mysql&amp;gt; create table t_book_1(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    -&amp;gt; id int auto_increment,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    -&amp;gt; f_name varchar(10),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    -&amp;gt; primary key(id)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    -&amp;gt; );&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;这里的话，一定要让自增列是主键，不然会报错&lt;/p&gt;
    
    </summary>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/categories/MySQL/"/>
    
    
      <category term="SQL" scheme="https://yuguiyang.github.io/tags/SQL/"/>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>MySQL-聚合函数</title>
    <link href="https://yuguiyang.github.io/2017/09/11/mysql-handbook-09/"/>
    <id>https://yuguiyang.github.io/2017/09/11/mysql-handbook-09/</id>
    <published>2017-09-11T02:00:00.000Z</published>
    <updated>2017-09-14T03:28:08.292Z</updated>
    
    <content type="html"><![CDATA[<p>MySQL<br>聚合函数</p>
<p>聚合函数也是函数的一种，比较常用，这里我们就单独拿出来介绍下。<br>聚合函数一般配合group by来使用，经常是用来对数据集中的数值求和、平均值啊这里类的。</p>
<h2 id="聚合函数的默认特性"><a href="#聚合函数的默认特性" class="headerlink" title="聚合函数的默认特性"></a>聚合函数的默认特性</h2><ul>
<li>忽略NULL值</li>
<li>如果没有匹配的记录，返回NULL</li>
<li>如果没有使用group by，则默认对所有字段进行group by</li>
</ul>
<h2 id="常用聚合函数"><a href="#常用聚合函数" class="headerlink" title="常用聚合函数"></a>常用聚合函数</h2><p>这里的测试数据依然使用前面的数据，可以参考前面的文章。</p>
<h3 id="count"><a href="#count" class="headerlink" title="count"></a>count</h3><p>统计结果集的数量,没有结果时，返回0<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- 我们以学生表为例，来统计每个班级的学生人数</span></div><div class="line"></div><div class="line"><span class="keyword">select</span> </div><div class="line">    c_id,<span class="keyword">count</span>(<span class="number">1</span>),</div><div class="line">    <span class="keyword">count</span>(s_id),</div><div class="line">    <span class="comment">-- 这里学生ID是唯一的，所以是否使用distinct是一样的</span></div><div class="line">    <span class="keyword">count</span>(<span class="keyword">distinct</span> s_id),</div><div class="line">    <span class="comment">-- 统计班级的个数</span></div><div class="line">    <span class="keyword">count</span>(<span class="keyword">distinct</span> c_id)</div><div class="line"><span class="keyword">from</span> </div><div class="line">    t_student </div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> </div><div class="line">    c_id;</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-75e0809e902bed73.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="count"></p>
<a id="more"></a>
<p>当我们只使用count，不使用group by的时候，相当于对所有字段进行group by<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> </div><div class="line">    <span class="keyword">count</span>(<span class="number">1</span>)</div><div class="line"><span class="keyword">from</span> </div><div class="line">    t_student</div><div class="line">;</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-0936e61df32f5745.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="count without group by "></p>
<p>这里，我们再来看下count对于null值得处理<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> </div><div class="line">    <span class="comment">-- count(*),是包括null值的</span></div><div class="line">    <span class="keyword">count</span>(*),</div><div class="line">    <span class="comment">-- count(1),也包括null值</span></div><div class="line">    <span class="keyword">count</span>(<span class="number">1</span>),</div><div class="line">    <span class="comment">-- 指定字段的时候，是不包括null值的</span></div><div class="line">    <span class="keyword">count</span>(<span class="keyword">id</span>),</div><div class="line">    <span class="comment">-- 同样也不包括null值</span></div><div class="line">    <span class="keyword">count</span>(<span class="keyword">DISTINCT</span> <span class="keyword">id</span>)</div><div class="line"><span class="keyword">from</span> (</div><div class="line">    <span class="keyword">select</span> <span class="number">1</span> <span class="keyword">as</span> <span class="keyword">id</span></div><div class="line">    <span class="keyword">union</span> <span class="keyword">select</span> <span class="literal">NULL</span></div><div class="line">    <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">2</span></div><div class="line">)x</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-2c755387122916a0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="count-null"></p>
<h3 id="avg、sum"><a href="#avg、sum" class="headerlink" title="avg、sum"></a>avg、sum</h3><p>计算结果集的平局值和结果集的累加和<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- 统计每个学生的平均分和总分</span></div><div class="line"><span class="keyword">select</span> </div><div class="line">    s_id,</div><div class="line">    <span class="keyword">avg</span>(score),</div><div class="line">    <span class="keyword">sum</span>(score) </div><div class="line"><span class="keyword">from</span> </div><div class="line">    t_score</div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> </div><div class="line">    s_id</div><div class="line">;</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-3e4a029bc3a97faf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="avg&amp;sum"></p>
<p>我们再来看看avg和sum对null值的处理<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> </div><div class="line">    <span class="comment">-- count指定字段，是不包括null值的</span></div><div class="line">    <span class="keyword">count</span>(score),</div><div class="line">    <span class="comment">-- avg也是不包括null值的</span></div><div class="line">    <span class="keyword">avg</span>(score),</div><div class="line">    <span class="comment">-- 如果想要统计score的记录，需要使用ifnull进行判断</span></div><div class="line">    <span class="keyword">avg</span>(<span class="keyword">IFNULL</span>(score,<span class="number">0</span>)),</div><div class="line">    <span class="comment">-- 求和</span></div><div class="line">    <span class="keyword">sum</span>(score)</div><div class="line"><span class="keyword">from</span> (</div><div class="line">    <span class="keyword">select</span> <span class="number">10</span> <span class="keyword">as</span> score</div><div class="line">    <span class="keyword">union</span> <span class="keyword">select</span> <span class="literal">NULL</span></div><div class="line">    <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">20</span></div><div class="line">)x;</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-744761351497d133.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="avg-with-null"></p>
<h3 id="min、max"><a href="#min、max" class="headerlink" title="min、max"></a>min、max</h3><p>统计结果集的最小值和最大值<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">select</span> </div><div class="line">    s_id,</div><div class="line">    <span class="comment">-- 最低分</span></div><div class="line">    <span class="keyword">min</span>(score),</div><div class="line">    <span class="comment">-- 最高分</span></div><div class="line">    <span class="keyword">max</span>(score)</div><div class="line"><span class="keyword">from</span> </div><div class="line">    t_score</div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> </div><div class="line">    s_id</div><div class="line">;</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-bdcc845786b4a896.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="min-max"></p>
<p>如果没有匹配的记录，则返回null；如果结果集中有null值，会忽略null<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">select</span> </div><div class="line">    <span class="keyword">max</span>(score),</div><div class="line">    <span class="keyword">min</span>(score)</div><div class="line"><span class="keyword">from</span> (</div><div class="line">    <span class="keyword">select</span> <span class="number">10</span> <span class="keyword">as</span> score</div><div class="line">    <span class="keyword">union</span> <span class="keyword">select</span> <span class="literal">NULL</span></div><div class="line">    <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">20</span></div><div class="line">)x;</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-ae216becd745e4ef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="min-max-null"></p>
<h3 id="group-concat"><a href="#group-concat" class="headerlink" title="group_concat"></a>group_concat</h3><p>group_concat会将函数聚合后的所有值以逗号分隔，以字符串展现<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">GROUP_CONCAT([DISTINCT] expr [,expr ...]</div><div class="line">             [ORDER BY &#123;unsigned_integer | col_name | expr&#125;</div><div class="line">                 [ASC | DESC] [,col_name ...]]</div><div class="line">             [SEPARATOR str_val])</div></pre></td></tr></table></figure></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> </div><div class="line">    s_id,</div><div class="line">    <span class="comment">-- 将该学生所有的成绩以逗号分隔显示</span></div><div class="line">    <span class="keyword">group_concat</span>(score)</div><div class="line"><span class="keyword">from</span> </div><div class="line">    t_score</div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> </div><div class="line">    s_id</div><div class="line">;</div></pre></td></tr></table></figure>
<h3 id="having"><a href="#having" class="headerlink" title="having"></a>having</h3><p>在聚合函数的使用过程中，通常还会使用having来对聚合后的数据进行过滤<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> </div><div class="line">    s_id,</div><div class="line">    <span class="keyword">sum</span>(score) sum_score</div><div class="line"><span class="keyword">from</span> </div><div class="line">    t_score</div><div class="line"><span class="keyword">group</span> <span class="keyword">by</span> </div><div class="line">    s_id</div><div class="line"><span class="comment">-- 总分大于150分</span></div><div class="line"><span class="keyword">having</span> </div><div class="line">    sum_score &gt; <span class="number">150</span></div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-c1efca915bfa8487.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="having"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MySQL&lt;br&gt;聚合函数&lt;/p&gt;
&lt;p&gt;聚合函数也是函数的一种，比较常用，这里我们就单独拿出来介绍下。&lt;br&gt;聚合函数一般配合group by来使用，经常是用来对数据集中的数值求和、平均值啊这里类的。&lt;/p&gt;
&lt;h2 id=&quot;聚合函数的默认特性&quot;&gt;&lt;a href=&quot;#聚合函数的默认特性&quot; class=&quot;headerlink&quot; title=&quot;聚合函数的默认特性&quot;&gt;&lt;/a&gt;聚合函数的默认特性&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;忽略NULL值&lt;/li&gt;
&lt;li&gt;如果没有匹配的记录，返回NULL&lt;/li&gt;
&lt;li&gt;如果没有使用group by，则默认对所有字段进行group by&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;常用聚合函数&quot;&gt;&lt;a href=&quot;#常用聚合函数&quot; class=&quot;headerlink&quot; title=&quot;常用聚合函数&quot;&gt;&lt;/a&gt;常用聚合函数&lt;/h2&gt;&lt;p&gt;这里的测试数据依然使用前面的数据，可以参考前面的文章。&lt;/p&gt;
&lt;h3 id=&quot;count&quot;&gt;&lt;a href=&quot;#count&quot; class=&quot;headerlink&quot; title=&quot;count&quot;&gt;&lt;/a&gt;count&lt;/h3&gt;&lt;p&gt;统计结果集的数量,没有结果时，返回0&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;-- 我们以学生表为例，来统计每个班级的学生人数&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    c_id,&lt;span class=&quot;keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;count&lt;/span&gt;(s_id),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;-- 这里学生ID是唯一的，所以是否使用distinct是一样的&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;distinct&lt;/span&gt; s_id),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;-- 统计班级的个数&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;keyword&quot;&gt;distinct&lt;/span&gt; c_id)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    t_student &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;by&lt;/span&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    c_id;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-75e0809e902bed73.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;count&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/categories/MySQL/"/>
    
    
      <category term="SQL" scheme="https://yuguiyang.github.io/tags/SQL/"/>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>MySQL-子查询的使用</title>
    <link href="https://yuguiyang.github.io/2017/09/11/mysql-handbook-08/"/>
    <id>https://yuguiyang.github.io/2017/09/11/mysql-handbook-08/</id>
    <published>2017-09-11T01:00:00.000Z</published>
    <updated>2017-09-14T01:18:39.737Z</updated>
    
    <content type="html"><![CDATA[<p>MySQL<br>变量的使用</p>
<h2 id="什么是子查询"><a href="#什么是子查询" class="headerlink" title="什么是子查询"></a>什么是子查询</h2><p>子查询是将一个 SELECT 语句的查询结果作为中间结果，供另一个 SQL 语句调用。<br>像这样：<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- 我们将学生表中的所有班级ID当做中间结果</span></div><div class="line"><span class="keyword">select</span> *<span class="keyword">from</span> t_class <span class="keyword">where</span> c_id <span class="keyword">in</span> (<span class="keyword">select</span> <span class="keyword">distinct</span> c_id <span class="keyword">from</span> t_student);</div></pre></td></tr></table></figure></p>
<h2 id="常用比较符"><a href="#常用比较符" class="headerlink" title="常用比较符"></a>常用比较符</h2><p>子查询最常用的用法：</p>
<blockquote>
<p>non_subquery_operand comparison_operator (subquery)<br>其中操作符通常为<br>=  &gt;  &lt;  &gt;=  &lt;=  &lt;&gt;  !=  &lt;=&gt;</p>
</blockquote>
<p>其他的都不说了，这里说下这个&lt;=&gt;,以前还真没用过<br>&lt;=&gt;和=比较类似，也是判断是否相等，相等返回1，不相等返回2<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select 1&lt;=&gt;1,1&lt;=&gt;2;</div><div class="line">+<span class="comment">-------+-------+</span></div><div class="line">| 1&lt;=&gt;1 | 1&lt;=&gt;2 |</div><div class="line">+<span class="comment">-------+-------+</span></div><div class="line">|     1 |     0 |</div><div class="line">+<span class="comment">-------+-------+</span></div><div class="line">1 row in <span class="keyword">set</span></div><div class="line"></div><div class="line">mysql&gt; <span class="keyword">select</span> <span class="number">1</span>=<span class="number">1</span>,<span class="number">1</span>=<span class="number">2</span>;</div><div class="line">+<span class="comment">-----+-----+</span></div><div class="line">| 1=1 | 1=2 |</div><div class="line">+<span class="comment">-----+-----+</span></div><div class="line">|   1 |   0 |</div><div class="line">+<span class="comment">-----+-----+</span></div><div class="line">1 row in <span class="keyword">set</span></div></pre></td></tr></table></figure></p>
<p>和=不一样的地方，是对NULL的支持，用&lt;=&gt;可以判断是否为null，而等号则是出现null，结果就为null<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select 1&lt;=&gt;null,null&lt;=&gt;null,1=null,null=null;</div><div class="line">+<span class="comment">----------+-------------+--------+-----------+</span></div><div class="line">| 1&lt;=&gt;null | null&lt;=&gt;null | 1=null | null=null |</div><div class="line">+<span class="comment">----------+-------------+--------+-----------+</span></div><div class="line">|        0 |           1 | NULL   | NULL      |</div><div class="line">+<span class="comment">----------+-------------+--------+-----------+</span></div><div class="line">1 row in <span class="keyword">set</span></div></pre></td></tr></table></figure></p>
<a id="more"></a>
<h3 id="any、in、some"><a href="#any、in、some" class="headerlink" title="any、in、some"></a>any、in、some</h3><p>在子查询中，in平时用的比较多，这个any、some，这里简单说下any和some</p>
<blockquote>
<p>operand comparison_operator ANY (subquery)<br>operand comparison_operator SOME (subquery)<br><figure class="highlight plain"><figcaption><span>可以为 =  >  <  >=  <= <="">  != ```</=></span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">any表示任意一个值，比如</div><div class="line">\&gt; any () :表示大于any中任意一个值，即&gt;子查询中最小值</div><div class="line">&lt; any(): 表示小于any中任意一个值，即&lt;子查询中最大值</div><div class="line">= any(): 和in一样</div><div class="line">&lt;&gt; any():比较好玩儿，如果子查询返回多个值，&lt;&gt; any会返回所有值</div><div class="line"></div><div class="line">``` sql</div><div class="line">select *from t_student </div><div class="line">where s_id &gt; any(</div><div class="line">    select s_id from t_student where s_id in (105,109,111)</div><div class="line">);</div></pre></td></tr></table></figure></p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-84ca84a9cea73689.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="&gt;any"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> *<span class="keyword">from</span> t_student </div><div class="line"><span class="keyword">where</span> s_id = <span class="keyword">any</span>(</div><div class="line">    <span class="keyword">select</span> s_id <span class="keyword">from</span> t_student <span class="keyword">where</span> s_id <span class="keyword">in</span> (<span class="number">105</span>,<span class="number">109</span>,<span class="number">111</span>)</div><div class="line">);</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-79acd1b91a2fb372.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="=any"></p>
<p>some 和any是一样的就不多说了</p>
<h3 id="all"><a href="#all" class="headerlink" title="all"></a>all</h3><p>这个all我也没咋用过，all表示所有值，和any有点儿相反的意思</p>
<blockquote>
<p>operand comparison_operator ALL (subquery)</p>
</blockquote>
<p>> all ()：表示大于所有值，即&gt;子查询中最大值<br>&lt; all() : 表示小于所有值，即&lt; 子查询中的最小值<br>= all(): 返回单个值时和=一样，返回多个值时貌似没啥用<br>&lt;&gt; all(): 和not in 一样</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> *<span class="keyword">from</span> t_student </div><div class="line"><span class="keyword">where</span> s_id &gt; all(</div><div class="line">    <span class="keyword">select</span> s_id <span class="keyword">from</span> t_student <span class="keyword">where</span> s_id <span class="keyword">in</span> (<span class="number">105</span>,<span class="number">109</span>)</div><div class="line">);</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-8f0ce33bafb39e86.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="&gt;all"></p>
<h2 id="标量子查询"><a href="#标量子查询" class="headerlink" title="标量子查询"></a>标量子查询</h2><p>这种情况下，子查询返回单个值，可以在任何地方使用它。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span></div><div class="line">    c_id,</div><div class="line">    c_name,</div><div class="line">    (<span class="keyword">select</span> <span class="keyword">max</span>(s_id) <span class="keyword">from</span> t_student) <span class="keyword">as</span> max_s_id</div><div class="line"><span class="keyword">from</span> </div><div class="line">    t_class;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">select</span></div><div class="line">    *</div><div class="line"><span class="keyword">from</span> </div><div class="line">    t_class </div><div class="line"><span class="keyword">where</span> </div><div class="line">    c_id = (<span class="keyword">select</span> <span class="keyword">max</span>(c_id) <span class="keyword">from</span> t_class);</div></pre></td></tr></table></figure></p>
<h2 id="行子查询"><a href="#行子查询" class="headerlink" title="行子查询"></a>行子查询</h2><p>上面我们介绍的子查询，都是返回1列多行，行子查询的话，是返回1行多列<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- 查询一班所有男生</span></div><div class="line"><span class="keyword">select</span> *<span class="keyword">from</span> t_student</div><div class="line"><span class="keyword">where</span> (c_id,s_gender) = (<span class="number">901</span>,<span class="number">0</span>);</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-f925380b1f971526.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="行子查询"></p>
<p>这里也可以返回多行多列（也叫做表子查询）<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> *<span class="keyword">from</span> t_student</div><div class="line"><span class="keyword">where</span> (c_id,s_gender) <span class="keyword">in</span> (<span class="keyword">select</span> <span class="number">901</span>,<span class="number">0</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">902</span>,<span class="number">0</span>);</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-7c558cc3f28c665f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="多行多列"></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>官方文档：<br><a href="https://dev.mysql.com/doc/refman/5.7/en/subqueries.html" target="_blank" rel="external">https://dev.mysql.com/doc/refman/5.7/en/subqueries.html</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MySQL&lt;br&gt;变量的使用&lt;/p&gt;
&lt;h2 id=&quot;什么是子查询&quot;&gt;&lt;a href=&quot;#什么是子查询&quot; class=&quot;headerlink&quot; title=&quot;什么是子查询&quot;&gt;&lt;/a&gt;什么是子查询&lt;/h2&gt;&lt;p&gt;子查询是将一个 SELECT 语句的查询结果作为中间结果，供另一个 SQL 语句调用。&lt;br&gt;像这样：&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;-- 我们将学生表中的所有班级ID当做中间结果&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; *&lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; t_class &lt;span class=&quot;keyword&quot;&gt;where&lt;/span&gt; c_id &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;distinct&lt;/span&gt; c_id &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; t_student);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;常用比较符&quot;&gt;&lt;a href=&quot;#常用比较符&quot; class=&quot;headerlink&quot; title=&quot;常用比较符&quot;&gt;&lt;/a&gt;常用比较符&lt;/h2&gt;&lt;p&gt;子查询最常用的用法：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;non_subquery_operand comparison_operator (subquery)&lt;br&gt;其中操作符通常为&lt;br&gt;=  &amp;gt;  &amp;lt;  &amp;gt;=  &amp;lt;=  &amp;lt;&amp;gt;  !=  &amp;lt;=&amp;gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;其他的都不说了，这里说下这个&amp;lt;=&amp;gt;,以前还真没用过&lt;br&gt;&amp;lt;=&amp;gt;和=比较类似，也是判断是否相等，相等返回1，不相等返回2&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;mysql&amp;gt; select 1&amp;lt;=&amp;gt;1,1&amp;lt;=&amp;gt;2;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;+&lt;span class=&quot;comment&quot;&gt;-------+-------+&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;| 1&amp;lt;=&amp;gt;1 | 1&amp;lt;=&amp;gt;2 |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;+&lt;span class=&quot;comment&quot;&gt;-------+-------+&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;|     1 |     0 |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;+&lt;span class=&quot;comment&quot;&gt;-------+-------+&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;1 row in &lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;mysql&amp;gt; &lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;=&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;=&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;+&lt;span class=&quot;comment&quot;&gt;-----+-----+&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;| 1=1 | 1=2 |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;+&lt;span class=&quot;comment&quot;&gt;-----+-----+&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;|   1 |   0 |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;+&lt;span class=&quot;comment&quot;&gt;-----+-----+&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;1 row in &lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;和=不一样的地方，是对NULL的支持，用&amp;lt;=&amp;gt;可以判断是否为null，而等号则是出现null，结果就为null&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;mysql&amp;gt; select 1&amp;lt;=&amp;gt;null,null&amp;lt;=&amp;gt;null,1=null,null=null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;+&lt;span class=&quot;comment&quot;&gt;----------+-------------+--------+-----------+&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;| 1&amp;lt;=&amp;gt;null | null&amp;lt;=&amp;gt;null | 1=null | null=null |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;+&lt;span class=&quot;comment&quot;&gt;----------+-------------+--------+-----------+&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;|        0 |           1 | NULL   | NULL      |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;+&lt;span class=&quot;comment&quot;&gt;----------+-------------+--------+-----------+&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;1 row in &lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/categories/MySQL/"/>
    
    
      <category term="SQL" scheme="https://yuguiyang.github.io/tags/SQL/"/>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>小白学习Tableau-使用计算进行聚焦</title>
    <link href="https://yuguiyang.github.io/2017/09/10/Tableau-handbook-05/"/>
    <id>https://yuguiyang.github.io/2017/09/10/Tableau-handbook-05/</id>
    <published>2017-09-10T02:57:00.000Z</published>
    <updated>2017-09-11T09:05:50.032Z</updated>
    
    <content type="html"><![CDATA[<p>Tableau实例</p>
<h2 id="什么是聚焦"><a href="#什么是聚焦" class="headerlink" title="什么是聚焦"></a>什么是聚焦</h2><p>聚焦是一种技术，用于根据某个度量的值显示离散阈值。聚焦计算其实是一种可产生离散度量的特殊计算。</p>
<p>其实就是新构造了一个维度，这个维度将度量值进行分段，类似于年龄段这样的维度。<br>这个应用场景很多，比如我们有一个达标值，想要哪些数据达标，哪些未达标。</p>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><h3 id="数据源"><a href="#数据源" class="headerlink" title="数据源"></a>数据源</h3><p>使用Tableau中自带的“示例-超市”，其中的订单表</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-ca3c0327cba4b659.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="数据源"></p>
<h3 id="交叉列表"><a href="#交叉列表" class="headerlink" title="交叉列表"></a>交叉列表</h3><p>我们来看每个地区，每个子类别的数量<br><img src="http://upload-images.jianshu.io/upload_images/76024-b45df3b52a76e9fb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="交叉列表"></p>
<a id="more"></a>
<p>现在，我们想要实现这样的功能，就是我有一个达标值500，只有数量达到500，才达标，怎样展示最好呢？</p>
<h3 id="创建计算字段"><a href="#创建计算字段" class="headerlink" title="创建计算字段"></a>创建计算字段</h3><p>我们来创建一个计算字段，如果数量大于500则达标，否则不达标</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-ce584722a9c7cd1d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="创建计算字段"></p>
<p>然后，把他拖到颜色上</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-482bee397ffda796.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="颜色"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-2ae64b31b040e229.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="颜色图例"></p>
<p>到这里，我们就可以看到，已经按照Good、Bad来区分颜色，达标、不达标</p>
<h3 id="使用参数"><a href="#使用参数" class="headerlink" title="使用参数"></a>使用参数</h3><p>上面，我们已经达成了目的，思考下，这个达标值的问题，这个月是500，下个月可能会浮动为600或者400，但我们在代码中写死了500，不够灵活，我们就可以使用参数来控制。</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-d5545f23a0bb367f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="创建参数"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-6b6e05faf29e3361.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="参数配置"></p>
<p>然后，我们修改上面的计算字段</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-424aca6d4258c774.png" alt="修改计算字段"></p>
<p>好了，最后，我们就可以动态的修改这个达标值了<br><img src="http://upload-images.jianshu.io/upload_images/76024-4b80c6002deb5858.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>官方文档：<a href="https://onlinehelp.tableau.com/current/pro/desktop/zh-cn/calculations_calculatedfields_ex2spotlighting.html" target="_blank" rel="external">示例 — 使用计算进行聚焦</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Tableau实例&lt;/p&gt;
&lt;h2 id=&quot;什么是聚焦&quot;&gt;&lt;a href=&quot;#什么是聚焦&quot; class=&quot;headerlink&quot; title=&quot;什么是聚焦&quot;&gt;&lt;/a&gt;什么是聚焦&lt;/h2&gt;&lt;p&gt;聚焦是一种技术，用于根据某个度量的值显示离散阈值。聚焦计算其实是一种可产生离散度量的特殊计算。&lt;/p&gt;
&lt;p&gt;其实就是新构造了一个维度，这个维度将度量值进行分段，类似于年龄段这样的维度。&lt;br&gt;这个应用场景很多，比如我们有一个达标值，想要哪些数据达标，哪些未达标。&lt;/p&gt;
&lt;h2 id=&quot;实例&quot;&gt;&lt;a href=&quot;#实例&quot; class=&quot;headerlink&quot; title=&quot;实例&quot;&gt;&lt;/a&gt;实例&lt;/h2&gt;&lt;h3 id=&quot;数据源&quot;&gt;&lt;a href=&quot;#数据源&quot; class=&quot;headerlink&quot; title=&quot;数据源&quot;&gt;&lt;/a&gt;数据源&lt;/h3&gt;&lt;p&gt;使用Tableau中自带的“示例-超市”，其中的订单表&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-ca3c0327cba4b659.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;数据源&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;交叉列表&quot;&gt;&lt;a href=&quot;#交叉列表&quot; class=&quot;headerlink&quot; title=&quot;交叉列表&quot;&gt;&lt;/a&gt;交叉列表&lt;/h3&gt;&lt;p&gt;我们来看每个地区，每个子类别的数量&lt;br&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-b45df3b52a76e9fb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;交叉列表&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Tableau" scheme="https://yuguiyang.github.io/categories/Tableau/"/>
    
    
      <category term="数据可视化" scheme="https://yuguiyang.github.io/tags/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/"/>
    
      <category term="Tableau" scheme="https://yuguiyang.github.io/tags/Tableau/"/>
    
  </entry>
  
  <entry>
    <title>MySQL-变量的使用</title>
    <link href="https://yuguiyang.github.io/2017/09/10/mysql-handbook-07/"/>
    <id>https://yuguiyang.github.io/2017/09/10/mysql-handbook-07/</id>
    <published>2017-09-10T01:00:00.000Z</published>
    <updated>2017-09-11T09:05:34.806Z</updated>
    
    <content type="html"><![CDATA[<p>MySQL<br>变量的使用</p>
<p>这里，我们简单介绍下MySQL中变量的使用</p>
<h2 id="变量的作用域"><a href="#变量的作用域" class="headerlink" title="变量的作用域"></a>变量的作用域</h2><p>在MySQL中，变量的作用域主要有全局变量（Global）和会话级变量（Session）<br>全局变量会影响当前server上的所有操作，而会话级变量则只会影响当前用户的会话，server上其他用户的会话不受影响</p>
<h2 id="系统变量"><a href="#系统变量" class="headerlink" title="系统变量"></a>系统变量</h2><p>系统变量主要涉及MySQL Server的一些配置参数，系统变量，一般会在配置文件中进行配置，或者在使用命令启动MySQL的使用去指定。<br>当然，在MySQL启动后，也可以动态的去修改系统变量（有些变量是不能动态修改的，可以修改的变量请参照官方文档）。</p>
<a id="more"></a>
<p>那我们怎样动态的修改系统变量呢？<br>可以使用</p>
<blockquote>
<p>SET GLOBAL or SET SESSION<br>@@global. | @@session.</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SET</span> <span class="keyword">GLOBAL</span> max_connections = <span class="number">1000</span>;</div><div class="line"><span class="keyword">SET</span> @@global.max_connections = <span class="number">1000</span>;</div><div class="line"></div><div class="line"><span class="keyword">SET</span> <span class="keyword">SESSION</span> sql_mode = <span class="string">'TRADITIONAL'</span>;</div><div class="line"><span class="keyword">SET</span> @@session.sql_mode = <span class="string">'TRADITIONAL'</span>;</div><div class="line"><span class="keyword">SET</span> @@sql_mode = <span class="string">'TRADITIONAL'</span>;</div></pre></td></tr></table></figure>
<p>查看当前系统变量的值<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SHOW</span> <span class="keyword">VARIABLES</span>;</div><div class="line"></div><div class="line"><span class="keyword">SHOW</span> <span class="keyword">VARIABLES</span> <span class="keyword">LIKE</span> <span class="string">'max_join_size'</span>;</div><div class="line"><span class="keyword">SHOW</span> <span class="keyword">SESSION</span> <span class="keyword">VARIABLES</span> <span class="keyword">LIKE</span> <span class="string">'max_join_size'</span>;</div><div class="line"></div><div class="line"><span class="keyword">SHOW</span> <span class="keyword">VARIABLES</span> <span class="keyword">LIKE</span> <span class="string">'%size%'</span>;</div><div class="line"><span class="keyword">SHOW</span> <span class="keyword">GLOBAL</span> <span class="keyword">VARIABLES</span> <span class="keyword">LIKE</span> <span class="string">'%size%'</span>;</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-1bf110200938645e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="查看系统变量"></p>
<h2 id="用户自定义变量"><a href="#用户自定义变量" class="headerlink" title="用户自定义变量"></a>用户自定义变量</h2><p>我们可以定义自己的变量，变量名为 @var_name，用户自定义变量都是会话级的</p>
<blockquote>
<p>SET @var_name = expr [, @var_name = expr] …<br>For <a href="https://dev.mysql.com/doc/refman/5.7/en/set-variable.html" target="_blank" rel="external">SET</a>, either = or := can be used as the assignment operator.</p>
</blockquote>
<p>我们也可以使用select来使用变量，或者给变量赋值，但必须使用:=<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">mysql&gt; SET @t1=1, @t2=2, @t3:=4;</div><div class="line">Query OK, 0 rows affected</div><div class="line"></div><div class="line">mysql&gt; SELECT @t1, @t2, @t3, @t4 := @t1+@t2+@t3;</div><div class="line">+<span class="comment">-----+-----+-----+--------------------+</span></div><div class="line">| @t1 | @t2 | @t3 | @t4 := @t1+@t2+@t3 |</div><div class="line">+<span class="comment">-----+-----+-----+--------------------+</span></div><div class="line">|   1 |   2 |   4 |                  7 |</div><div class="line">+<span class="comment">-----+-----+-----+--------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div></pre></td></tr></table></figure></p>
<p>在使用自定义变量的时候，会有一个顺序的问题，<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">set</span> @p_rank:= <span class="number">0</span>;</div><div class="line"><span class="keyword">select</span> *,@p_rank,@p_rank:=@p_rank+<span class="number">1</span> <span class="keyword">from</span> t_student;</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-bb63e57e5a243008.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="变量顺序"></p>
<p>这样虽然可以得到我们想要的结果，但是官方并不推荐</p>
<p>自定义变量，是在结果返回到客户端时，才进行处理的，所以我们HAVING, GROUP BY, or ORDER BY中使用的时候，并没有效果。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>官方文档：<br><a href="https://dev.mysql.com/doc/refman/5.7/en/user-variables.html" target="_blank" rel="external">user-variables</a><br><a href="https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html" target="_blank" rel="external">server-system-variables</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MySQL&lt;br&gt;变量的使用&lt;/p&gt;
&lt;p&gt;这里，我们简单介绍下MySQL中变量的使用&lt;/p&gt;
&lt;h2 id=&quot;变量的作用域&quot;&gt;&lt;a href=&quot;#变量的作用域&quot; class=&quot;headerlink&quot; title=&quot;变量的作用域&quot;&gt;&lt;/a&gt;变量的作用域&lt;/h2&gt;&lt;p&gt;在MySQL中，变量的作用域主要有全局变量（Global）和会话级变量（Session）&lt;br&gt;全局变量会影响当前server上的所有操作，而会话级变量则只会影响当前用户的会话，server上其他用户的会话不受影响&lt;/p&gt;
&lt;h2 id=&quot;系统变量&quot;&gt;&lt;a href=&quot;#系统变量&quot; class=&quot;headerlink&quot; title=&quot;系统变量&quot;&gt;&lt;/a&gt;系统变量&lt;/h2&gt;&lt;p&gt;系统变量主要涉及MySQL Server的一些配置参数，系统变量，一般会在配置文件中进行配置，或者在使用命令启动MySQL的使用去指定。&lt;br&gt;当然，在MySQL启动后，也可以动态的去修改系统变量（有些变量是不能动态修改的，可以修改的变量请参照官方文档）。&lt;/p&gt;
    
    </summary>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/categories/MySQL/"/>
    
    
      <category term="SQL" scheme="https://yuguiyang.github.io/tags/SQL/"/>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>MySQL-常用函数</title>
    <link href="https://yuguiyang.github.io/2017/09/10/mysql-handbook-06/"/>
    <id>https://yuguiyang.github.io/2017/09/10/mysql-handbook-06/</id>
    <published>2017-09-10T00:00:00.000Z</published>
    <updated>2017-09-11T05:36:08.290Z</updated>
    
    <content type="html"><![CDATA[<p>MySQL<br>常用函数</p>
<p>这里介绍下，MySQL中常用的函数，函数有太多太多，不一定都需要记住，只需要有个印象，需要的时候去文档中找一下，记住一些常用的就好了</p>
<h2 id="数学函数"><a href="#数学函数" class="headerlink" title="数学函数"></a>数学函数</h2><h3 id="abs-x"><a href="#abs-x" class="headerlink" title="abs(x)"></a>abs(x)</h3><p>返回x的绝对值<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="keyword">abs</span>(<span class="number">-10</span>),<span class="keyword">abs</span>(<span class="number">10</span>)</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-5a4d7d49d66d09b6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="abs"></p>
<a id="more"></a>
<h3 id="ceil-x-、ceiling-x"><a href="#ceil-x-、ceiling-x" class="headerlink" title="ceil(x)、ceiling(x)"></a>ceil(x)、ceiling(x)</h3><p>向上取整,比该值大的第一个整数<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="keyword">CEIL</span>(<span class="number">9.3</span>),<span class="keyword">CEIL</span>(<span class="number">9.5</span>),<span class="keyword">CEIL</span>(<span class="number">9.6</span>),<span class="keyword">CEIL</span>(<span class="number">-9.5</span>),<span class="keyword">CEIL</span>(<span class="number">-9.1</span>)</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-3106d7b4937de867.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ceil"></p>
<h3 id="floor-x"><a href="#floor-x" class="headerlink" title="floor(x)"></a>floor(x)</h3><p>向下取整，比该值小的第一个整数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="keyword">FLOOR</span>(<span class="number">9.3</span>),<span class="keyword">FLOOR</span>(<span class="number">9.5</span>),<span class="keyword">FLOOR</span>(<span class="number">9.6</span>),<span class="keyword">FLOOR</span>(<span class="number">-9.5</span>),<span class="keyword">FLOOR</span>(<span class="number">-9.1</span>)</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-52ccb9f3d6295929.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="floor"></p>
<h3 id="round-x-round-x-y"><a href="#round-x-round-x-y" class="headerlink" title="round(x),round(x,y)"></a>round(x),round(x,y)</h3><p>四舍五入，round(x)，最近的一个整数，round(x,y)，这个y可以指定精度</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="keyword">ROUND</span>(<span class="number">9.3</span>),<span class="keyword">ROUND</span>(<span class="number">9.6</span>),<span class="keyword">ROUND</span>(<span class="number">9.378</span>,<span class="number">2</span>),<span class="keyword">ROUND</span>(<span class="number">9.455</span>,<span class="number">2</span>)</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-d46d1e49943ffec7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="round"></p>
<h3 id="rand-rand-x"><a href="#rand-rand-x" class="headerlink" title="rand(),rand(x)"></a>rand(),rand(x)</h3><p>rand() 返回0~1之间的随机数<br>rand(x) 返回0~1之间的随机数，如果x值相等，则返回值相等</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> <span class="keyword">RAND</span>(),<span class="keyword">RAND</span>(),<span class="keyword">RAND</span>(<span class="number">10</span>),<span class="keyword">RAND</span>(<span class="number">10</span>)</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-80978f1eb1fd9dfa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="rand"></p>
<h2 id="字符串函数"><a href="#字符串函数" class="headerlink" title="字符串函数"></a>字符串函数</h2><h3 id="获取字符串长度"><a href="#获取字符串长度" class="headerlink" title="获取字符串长度"></a>获取字符串长度</h3><p> length(str)，返回str的长度,这里要注意下中文，占3个长度,这里的长度单位是bytes<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select length('abc'),length('中国'),length('hi中国');</div><div class="line">+<span class="comment">---------------+----------------+------------------+</span></div><div class="line">| length('abc') | length('中国') | length('hi中国') |</div><div class="line">+<span class="comment">---------------+----------------+------------------+</span></div><div class="line">|             3 |              6 |                8 |</div><div class="line">+<span class="comment">---------------+----------------+------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div></pre></td></tr></table></figure></p>
<p> CHAR_LENGTH(str)，返回str的长度，中文和英文一样，占1个字符，这里长度单位是字符<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select char_length('abc'),char_length('中国'),char_length('hi中国');</div><div class="line">+<span class="comment">--------------------+---------------------+-----------------------+</span></div><div class="line">| char_length('abc') | char_length('中国') | char_length('hi中国') |</div><div class="line">+<span class="comment">--------------------+---------------------+-----------------------+</span></div><div class="line">|                  3 |                   2 |                     4 |</div><div class="line">+<span class="comment">--------------------+---------------------+-----------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div></pre></td></tr></table></figure></p>
<h3 id="字符串拼接"><a href="#字符串拼接" class="headerlink" title="字符串拼接"></a>字符串拼接</h3><p>CONCAT(str1,str2,…)，将str1，str2拼接在一起<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">mysql&gt; select concat('h','e','gogo','中国');</div><div class="line">+<span class="comment">-------------------------------+</span></div><div class="line">| concat('h','e','gogo','中国') |</div><div class="line">+<span class="comment">-------------------------------+</span></div><div class="line">| hegogo中国                    |</div><div class="line">+<span class="comment">-------------------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div></pre></td></tr></table></figure></p>
<p>这里要注意下NULL，如果其中有参数为NULL，则结果为NULL<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select concat('h','e','gogo',NULL,'中国');</div><div class="line">+<span class="comment">------------------------------------+</span></div><div class="line">| concat('h','e','gogo',NULL,'中国') |</div><div class="line">+<span class="comment">------------------------------------+</span></div><div class="line">| NULL                               |</div><div class="line">+<span class="comment">------------------------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div></pre></td></tr></table></figure></p>
<p>CONCAT_WS(separator,str1,str2,…)，使用指定的separator进行拼接<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select concat_ws('^','e','gogo',NULL,'中国');</div><div class="line">+<span class="comment">---------------------------------------+</span></div><div class="line">| concat_ws('^','e','gogo',NULL,'中国') |</div><div class="line">+<span class="comment">---------------------------------------+</span></div><div class="line">| e^gogo^中国                           |</div><div class="line">+<span class="comment">---------------------------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div></pre></td></tr></table></figure></p>
<p>这里是如果有NULL，对结果是没有影响的，会直接忽略NULL值</p>
<h3 id="剔除空格或指定字符"><a href="#剔除空格或指定字符" class="headerlink" title="剔除空格或指定字符"></a>剔除空格或指定字符</h3><p>剔除字符串左右的空格<br>ltrim(str),剔除左侧空格<br>rtrim(str),剔除右侧空格<br>TRIM([{BOTH | LEADING | TRAILING} [remstr] FROM] str), TRIM([remstr FROM] str)<br>trim可以使用参数来控制剔除空格或者是指定的remstr，默认是空格<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select concat(ltrim('   hi   '),'oo'),concat(rtrim('   hi   '),'oo'),concat(trim('   hi   '),'oo');</div><div class="line">+<span class="comment">--------------------------------+--------------------------------+-------------------------------+</span></div><div class="line">| concat(ltrim('   hi   '),'oo') | concat(rtrim('   hi   '),'oo') | concat(trim('   hi   '),'oo') |</div><div class="line">+<span class="comment">--------------------------------+--------------------------------+-------------------------------+</span></div><div class="line">| hi   oo                        |    hioo                        | hioo                          |</div><div class="line">+<span class="comment">--------------------------------+--------------------------------+-------------------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div><div class="line"></div><div class="line">mysql&gt; <span class="keyword">select</span> <span class="keyword">trim</span>(<span class="string">'a'</span> <span class="keyword">from</span> <span class="string">'aabbbccaa'</span>),<span class="keyword">trim</span>(<span class="keyword">leading</span> <span class="string">'a'</span> <span class="keyword">from</span> <span class="string">'aabbbccaa'</span>),<span class="keyword">trim</span>(trailing <span class="string">'a'</span> <span class="keyword">from</span> <span class="string">'aabbbccaa'</span>);</div><div class="line">+<span class="comment">----------------------------+------------------------------------+-------------------------------------+</span></div><div class="line">| trim('a' from 'aabbbccaa') | trim(leading 'a' from 'aabbbccaa') | trim(trailing 'a' from 'aabbbccaa') |</div><div class="line">+<span class="comment">----------------------------+------------------------------------+-------------------------------------+</span></div><div class="line">| bbbcc                      | bbbccaa                            | aabbbcc                             |</div><div class="line">+<span class="comment">----------------------------+------------------------------------+-------------------------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div></pre></td></tr></table></figure></p>
<h3 id="字符串填充"><a href="#字符串填充" class="headerlink" title="字符串填充"></a>字符串填充</h3><p>LPAD(str,len,padstr)，左侧填充<br>RPAD(str,len,padstr)，右侧填充<br>len是指定str的长度，如果不够，则使用padstr填充，如果超了，则进行截取<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select lpad('hi',6,'@'),lpad('higogo',4,'@'),rpad('hi',6,'@'),rpad('higogo',4,'@');</div><div class="line">+<span class="comment">------------------+----------------------+------------------+----------------------+</span></div><div class="line">| lpad('hi',6,'@') | lpad('higogo',4,'@') | rpad('hi',6,'@') | rpad('higogo',4,'@') |</div><div class="line">+<span class="comment">------------------+----------------------+------------------+----------------------+</span></div><div class="line">| @@@@hi           | higo                 | hi@@@@           | higo                 |</div><div class="line">+<span class="comment">------------------+----------------------+------------------+----------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div></pre></td></tr></table></figure></p>
<h3 id="字符串截取"><a href="#字符串截取" class="headerlink" title="字符串截取"></a>字符串截取</h3><p>LEFT(str,len)，从左侧开始截取len个字符<br>RIGHT(str,len)，从右侧截取len个字符<br>SUBSTR(str,pos), SUBSTR(str FROM pos), SUBSTR(str,pos,len), SUBSTR(str FROM pos FOR len)，从指定pos开始截取len个字符<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select left('hello',1),left('hello',3),right('hello',3);</div><div class="line">+<span class="comment">-----------------+-----------------+------------------+</span></div><div class="line">| left('hello',1) | left('hello',3) | right('hello',3) |</div><div class="line">+<span class="comment">-----------------+-----------------+------------------+</span></div><div class="line">| h               | hel             | llo              |</div><div class="line">+<span class="comment">-----------------+-----------------+------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div><div class="line"></div><div class="line">mysql&gt; <span class="keyword">select</span> <span class="keyword">substr</span>(<span class="string">'hello'</span>,<span class="number">1</span>),<span class="keyword">substr</span>(<span class="string">'hello'</span>,<span class="number">2</span>),<span class="keyword">substr</span>(<span class="string">'hello'</span> <span class="keyword">from</span> <span class="number">2</span>);</div><div class="line">+<span class="comment">-------------------+-------------------+------------------------+</span></div><div class="line">| substr('hello',1) | substr('hello',2) | substr('hello' from 2) |</div><div class="line">+<span class="comment">-------------------+-------------------+------------------------+</span></div><div class="line">| hello             | ello              | ello                   |</div><div class="line">+<span class="comment">-------------------+-------------------+------------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div><div class="line"></div><div class="line">mysql&gt; <span class="keyword">select</span> <span class="keyword">substr</span>(<span class="string">'hello'</span>,<span class="number">1</span>,<span class="number">3</span>),<span class="keyword">substr</span>(<span class="string">'hello'</span>,<span class="number">2</span>,<span class="number">3</span>),<span class="keyword">substr</span>(<span class="string">'hello'</span> <span class="keyword">from</span> <span class="number">2</span> <span class="keyword">for</span> <span class="number">2</span>);</div><div class="line">+<span class="comment">---------------------+---------------------+------------------------------+</span></div><div class="line">| substr('hello',1,3) | substr('hello',2,3) | substr('hello' from 2 for 2) |</div><div class="line">+<span class="comment">---------------------+---------------------+------------------------------+</span></div><div class="line">| hel                 | ell                 | el                           |</div><div class="line">+<span class="comment">---------------------+---------------------+------------------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div></pre></td></tr></table></figure></p>
<h3 id="大小写转换"><a href="#大小写转换" class="headerlink" title="大小写转换"></a>大小写转换</h3><p>LOWER(str) LCASE(str)，将str转为小写<br>UPPER(str) UCASE(str)，将str转为大写<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select lower('AppLE'),lcase('AppLE'),upper('AppLE'),ucase('AppLE');</div><div class="line">+<span class="comment">----------------+----------------+----------------+----------------+</span></div><div class="line">| lower('AppLE') | lcase('AppLE') | upper('AppLE') | ucase('AppLE') |</div><div class="line">+<span class="comment">----------------+----------------+----------------+----------------+</span></div><div class="line">| apple          | apple          | APPLE          | APPLE          |</div><div class="line">+<span class="comment">----------------+----------------+----------------+----------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div></pre></td></tr></table></figure></p>
<h3 id="更多字符串函数"><a href="#更多字符串函数" class="headerlink" title="更多字符串函数"></a>更多字符串函数</h3><p>参考官网： <a href="https://dev.mysql.com/doc/refman/5.7/en/string-functions.html" target="_blank" rel="external">https://dev.mysql.com/doc/refman/5.7/en/string-functions.html</a></p>
<h2 id="日期和函数"><a href="#日期和函数" class="headerlink" title="日期和函数"></a>日期和函数</h2><h3 id="获取当前日期、时间"><a href="#获取当前日期、时间" class="headerlink" title="获取当前日期、时间"></a>获取当前日期、时间</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> <span class="keyword">CURRENT_DATE</span>,<span class="keyword">CURRENT_DATE</span>(),<span class="keyword">CURRENT_TIME</span>,<span class="keyword">CURRENT_TIME</span>(),<span class="keyword">CURRENT_TIMESTAMP</span>(),<span class="keyword">NOW</span>()</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-d02a125fbe334c51.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="当前日期、时间"></p>
<h3 id="时间戳相关函数"><a href="#时间戳相关函数" class="headerlink" title="时间戳相关函数"></a>时间戳相关函数</h3><p>UNIX_TIMESTAMP() 返回当前时间的时间戳，<br>UNIX_TIMESTAMP(x) 返回指定日期的时间戳<br>FROM_UNIXTIME(x) 将时间戳转为日期<br>FROM_UNIXTIME(x,y) 将时间戳转为指定格式的日期</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select UNIX_TIMESTAMP(),UNIX_TIMESTAMP('2017-09-10');</div><div class="line">+<span class="comment">------------------+------------------------------+</span></div><div class="line">| UNIX_TIMESTAMP() | UNIX_TIMESTAMP('2017-09-10') |</div><div class="line">+<span class="comment">------------------+------------------------------+</span></div><div class="line">|       1505096065 |                   1504972800 |</div><div class="line">+<span class="comment">------------------+------------------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div><div class="line"></div><div class="line">mysql&gt; <span class="keyword">select</span> FROM_UNIXTIME(<span class="number">1505096033</span>),FROM_UNIXTIME(<span class="number">1504972800</span>),FROM_UNIXTIME(<span class="number">1505096033</span>,<span class="string">'%Y-%m-%d'</span>);</div><div class="line">+<span class="comment">---------------------------+---------------------------+--------------------------------------+</span></div><div class="line">| FROM_UNIXTIME(1505096033) | FROM_UNIXTIME(1504972800) | FROM_UNIXTIME(1505096033,'%Y-%m-%d') |</div><div class="line">+<span class="comment">---------------------------+---------------------------+--------------------------------------+</span></div><div class="line">| 2017-09-11 10:13:53       | 2017-09-10 00:00:00       | 2017-09-11                           |</div><div class="line">+<span class="comment">---------------------------+---------------------------+--------------------------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div><div class="line"></div><div class="line">mysql&gt;</div></pre></td></tr></table></figure>
<h3 id="extract"><a href="#extract" class="headerlink" title="extract"></a>extract</h3><p>EXTRACT(unit FROM date)<br>返回日期/时间的单独部分，比如年、月、日、小时、分钟等等<br>date 参数是合法的日期表达式。unit 参数可以是下列的值：</p>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-9db81fd5fd206620.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="extract"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select extract(YEAR FROM NOW()),extract(MONTH from now()),extract(HOUR from now());</div><div class="line">+<span class="comment">--------------------------+---------------------------+--------------------------+</span></div><div class="line">| extract(YEAR FROM NOW()) | extract(MONTH from now()) | extract(HOUR from now()) |</div><div class="line">+<span class="comment">--------------------------+---------------------------+--------------------------+</span></div><div class="line">|                     2017 |                         9 |                       10 |</div><div class="line">+<span class="comment">--------------------------+---------------------------+--------------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div><div class="line"></div><div class="line">mysql&gt;</div></pre></td></tr></table></figure>
<h3 id="datediff、timediff、timestampdiff"><a href="#datediff、timediff、timestampdiff" class="headerlink" title="datediff、timediff、timestampdiff"></a>datediff、timediff、timestampdiff</h3><p>datediff(<em>expr1</em>,<em>expr2</em>),获取2个日期相差的天数<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select datediff('2017-09-11 10:00:00','2017-09-08 00:00:00');</div><div class="line">+<span class="comment">-------------------------------------------------------+</span></div><div class="line">| datediff('2017-09-11 10:00:00','2017-09-08 00:00:00') |</div><div class="line">+<span class="comment">-------------------------------------------------------+</span></div><div class="line">|                                                     3 |</div><div class="line">+<span class="comment">-------------------------------------------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div><div class="line"></div><div class="line">mysql&gt;</div></pre></td></tr></table></figure></p>
<blockquote>
<p>TIMEDIFF(<em>expr1</em>,<em>expr2</em>)，返回expr1-expr2的时间差<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select timediff('2017-09-11 10:00:00','2017-09-08 00:00:00');</div><div class="line">+<span class="comment">-------------------------------------------------------+</span></div><div class="line">| timediff('2017-09-11 10:00:00','2017-09-08 00:00:00') |</div><div class="line">+<span class="comment">-------------------------------------------------------+</span></div><div class="line">| 82:00:00                                              |</div><div class="line">+<span class="comment">-------------------------------------------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div><div class="line"></div><div class="line">mysql&gt;</div></pre></td></tr></table></figure></p>
<p>TIMESTAMPDIFF(unit,datetime_expr1,datetime_expr2)<br>返回指定unit的datetime_expr2 − datetime_expr1时间差<br>unit可以是MICROSECOND (microseconds), SECOND, MINUTE, HOUR, DAY, WEEK, MONTH, QUARTER, or YEAR.<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select timestampdiff(DAY,'2017-09-11 10:00:00','2017-09-08 00:00:00');</div><div class="line">+<span class="comment">----------------------------------------------------------------+</span></div><div class="line">| timestampdiff(DAY,'2017-09-11 10:00:00','2017-09-08 00:00:00') |</div><div class="line">+<span class="comment">----------------------------------------------------------------+</span></div><div class="line">|                                                             -3 |</div><div class="line">+<span class="comment">----------------------------------------------------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div><div class="line"></div><div class="line">mysql&gt; <span class="keyword">select</span> <span class="keyword">timestampdiff</span>(<span class="keyword">HOUR</span>,<span class="string">'2017-09-11 10:00:00'</span>,<span class="string">'2017-09-08 00:00:00'</span>);</div><div class="line">+<span class="comment">-----------------------------------------------------------------+</span></div><div class="line">| timestampdiff(HOUR,'2017-09-11 10:00:00','2017-09-08 00:00:00') |</div><div class="line">+<span class="comment">-----------------------------------------------------------------+</span></div><div class="line">|                                                             -82 |</div><div class="line">+<span class="comment">-----------------------------------------------------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="时间加减函数"><a href="#时间加减函数" class="headerlink" title="时间加减函数"></a>时间加减函数</h3><p>对日期进行加减操作，有很多方法可以使用，最简单的是直接使用interval<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select now(),now() + interval 3 DAY,now()+interval 1 Hour;</div><div class="line">+<span class="comment">---------------------+------------------------+-----------------------+</span></div><div class="line">| now()               | now() + interval 3 DAY | now()+interval 1 Hour |</div><div class="line">+<span class="comment">---------------------+------------------------+-----------------------+</span></div><div class="line">| 2017-09-11 10:57:18 | 2017-09-14 10:57:18    | 2017-09-11 11:57:18   |</div><div class="line">+<span class="comment">---------------------+------------------------+-----------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div></pre></td></tr></table></figure></p>
<p>当然也可使用提供的函数</p>
<blockquote>
<p>ADDDATE(date,INTERVAL expr unit), ADDDATE(expr,days)<br>DATE_ADD(date,INTERVAL expr unit), DATE_SUB(date,INTERVAL expr unit)</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-7aa2e3a9f08f3d65.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="日期加减"><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select now(),date_add(now(),interval 1 Day),adddate(now(),interval 3 Hour);</div><div class="line">+<span class="comment">---------------------+--------------------------------+--------------------------------+</span></div><div class="line">| now()               | date_add(now(),interval 1 Day) | adddate(now(),interval 3 Hour) |</div><div class="line">+<span class="comment">---------------------+--------------------------------+--------------------------------+</span></div><div class="line">| 2017-09-11 10:59:09 | 2017-09-12 10:59:09            | 2017-09-11 13:59:09            |</div><div class="line">+<span class="comment">---------------------+--------------------------------+--------------------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div></pre></td></tr></table></figure></p>
<h3 id="更多日期、时间函数"><a href="#更多日期、时间函数" class="headerlink" title="更多日期、时间函数"></a>更多日期、时间函数</h3><p>参考官方介绍: <a href="https:
//dev.mysql.com/doc/refman/5.7/en/date-and-time-functions.html" target="_blank" rel="external">https://dev.mysql.com/doc/refman/5.7/en/date-and-time-functions.html</a></p>
<h2 id="条件判断函数"><a href="#条件判断函数" class="headerlink" title="条件判断函数"></a>条件判断函数</h2><h3 id="if"><a href="#if" class="headerlink" title="if"></a>if</h3><blockquote>
<p>if(expr,v1,v2)<br>如果expr为真，则返回v1，为假，则返回v2<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select if(1&gt;0,'ok','no'),if(1=0,'ok','no');</div><div class="line">+<span class="comment">-------------------+-------------------+</span></div><div class="line">| if(1&gt;0,'ok','no') | if(1=0,'ok','no') |</div><div class="line">+<span class="comment">-------------------+-------------------+</span></div><div class="line">| ok                | no                |</div><div class="line">+<span class="comment">-------------------+-------------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div><div class="line"></div><div class="line">mysql&gt;</div></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="ifnull"><a href="#ifnull" class="headerlink" title="ifnull"></a>ifnull</h3><blockquote>
<p>ifnull(v1,v2)<br>如果v1的值为null，则返回v2，如果v1不为null，则返回v1<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mysql&gt; select ifnull(99,20),ifnull(NULL,99);</div><div class="line">+<span class="comment">---------------+-----------------+</span></div><div class="line">| ifnull(99,20) | ifnull(NULL,99) |</div><div class="line">+<span class="comment">---------------+-----------------+</span></div><div class="line">|            99 |              99 |</div><div class="line">+<span class="comment">---------------+-----------------+</span></div><div class="line">1 row in <span class="keyword">set</span></div><div class="line"></div><div class="line">mysql&gt;</div></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="case-when"><a href="#case-when" class="headerlink" title="case when"></a>case when</h3><blockquote>
<p>这里可以根据多个条件来判断，在不同的情况下，返回不同的值</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> </div><div class="line">    s_id,s_name,s_gender,</div><div class="line">    <span class="keyword">case</span> </div><div class="line">        <span class="keyword">when</span> s_gender=<span class="number">0</span> <span class="keyword">then</span> <span class="string">'男'</span> </div><div class="line">        <span class="keyword">when</span> s_gender=<span class="number">1</span> <span class="keyword">then</span> <span class="string">'女'</span> </div><div class="line">    <span class="keyword">end</span> gender,</div><div class="line">    s_birthday,</div><div class="line">    s_hobby,</div><div class="line">    c_id</div><div class="line"><span class="keyword">from</span> </div><div class="line">    t_student</div><div class="line">;</div></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/76024-019524cc95e1a303.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="case when"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MySQL&lt;br&gt;常用函数&lt;/p&gt;
&lt;p&gt;这里介绍下，MySQL中常用的函数，函数有太多太多，不一定都需要记住，只需要有个印象，需要的时候去文档中找一下，记住一些常用的就好了&lt;/p&gt;
&lt;h2 id=&quot;数学函数&quot;&gt;&lt;a href=&quot;#数学函数&quot; class=&quot;headerlink&quot; title=&quot;数学函数&quot;&gt;&lt;/a&gt;数学函数&lt;/h2&gt;&lt;h3 id=&quot;abs-x&quot;&gt;&lt;a href=&quot;#abs-x&quot; class=&quot;headerlink&quot; title=&quot;abs(x)&quot;&gt;&lt;/a&gt;abs(x)&lt;/h3&gt;&lt;p&gt;返回x的绝对值&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;abs&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;-10&lt;/span&gt;),&lt;span class=&quot;keyword&quot;&gt;abs&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;10&lt;/span&gt;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/76024-5a4d7d49d66d09b6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;abs&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/categories/MySQL/"/>
    
    
      <category term="SQL" scheme="https://yuguiyang.github.io/tags/SQL/"/>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>MySQL-regexp</title>
    <link href="https://yuguiyang.github.io/2017/09/09/mysql-handbook-04/"/>
    <id>https://yuguiyang.github.io/2017/09/09/mysql-handbook-04/</id>
    <published>2017-09-09T04:00:00.000Z</published>
    <updated>2017-09-09T15:44:03.148Z</updated>
    
    <content type="html"><![CDATA[<p>MySQL<br>正则表达式</p>
<p>在前面，我们了解了like的使用，它可以做一些简单的匹配</p>
<blockquote>
<p>在like中，我们使用%来代替任意个或多个字符，_表示任意单个字符</p>
</blockquote>
<p>但在实际的应用场景中，我们可能还会需要更强大的匹配方式，比如“正则表达式”，这就需要使用regexp。</p>
<p>常用的正则表达式，更多的内容，大家可以百度下<br><img src="http://7xl61k.com1.z0.glb.clouddn.com/mysql-handbook-04-01.png-blog.photo" alt="mysql-handbook-04-01"></p>
<a id="more"></a>
<p>我们就以前面的t_student表为例</p>
<h2 id="查询学生姓路或乔的学生信息"><a href="#查询学生姓路或乔的学生信息" class="headerlink" title="查询学生姓路或乔的学生信息"></a>查询学生姓路或乔的学生信息</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- like </span></div><div class="line"><span class="keyword">select</span> *<span class="keyword">from</span> t_student <span class="keyword">where</span> s_name <span class="keyword">like</span> <span class="string">'路%'</span> <span class="keyword">or</span> s_name <span class="keyword">like</span> <span class="string">'乔%'</span></div><div class="line"></div><div class="line"><span class="comment">-- regexp</span></div><div class="line"><span class="keyword">select</span> *<span class="keyword">from</span> t_student <span class="keyword">where</span> s_name regexp <span class="string">'^(路|乔)'</span></div></pre></td></tr></table></figure>
<p><img src="http://7xl61k.com1.z0.glb.clouddn.com/mysql-handbook-04-02.png-blog.photo" alt="mysql-handbook-04-02"></p>
<h2 id="查询名字是以美结尾的学生信息"><a href="#查询名字是以美结尾的学生信息" class="headerlink" title="查询名字是以美结尾的学生信息"></a>查询名字是以美结尾的学生信息</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> *<span class="keyword">from</span> t_student <span class="keyword">where</span> s_name regexp <span class="string">'美$'</span></div></pre></td></tr></table></figure>
<p><img src="http://7xl61k.com1.z0.glb.clouddn.com/mysql-handbook-04-03.png-blog.photo" alt="mysql-handbook-04-03"></p>
<h2 id="查询学生爱好中，有吃肉的学生信息"><a href="#查询学生爱好中，有吃肉的学生信息" class="headerlink" title="查询学生爱好中，有吃肉的学生信息"></a>查询学生爱好中，有吃肉的学生信息</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> *<span class="keyword">from</span> t_student <span class="keyword">where</span> s_hobby regexp <span class="string">'吃肉'</span></div></pre></td></tr></table></figure>
<p><img src="http://7xl61k.com1.z0.glb.clouddn.com/mysql-handbook-04-04.png-blog.photo" alt="mysql-handbook-04-04"></p>
<h2 id="查询学生姓乔或者名字中有美字的学生信息"><a href="#查询学生姓乔或者名字中有美字的学生信息" class="headerlink" title="查询学生姓乔或者名字中有美字的学生信息"></a>查询学生姓乔或者名字中有美字的学生信息</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">select</span> *<span class="keyword">from</span> t_student <span class="keyword">where</span> s_name regexp <span class="string">'(^乔)|美'</span></div></pre></td></tr></table></figure>
<p><img src="http://7xl61k.com1.z0.glb.clouddn.com/mysql-handbook-04-05.png-blog.photo" alt="mysql-handbook-04-05"></p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>这里先整理这几个简单的例子，后续会再补充。</p>
<p>可以参考官方的文档练习：<a href="https://dev.mysql.com/doc/refman/5.7/en/regexp.html" target="_blank" rel="external">https://dev.mysql.com/doc/refman/5.7/en/regexp.html</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MySQL&lt;br&gt;正则表达式&lt;/p&gt;
&lt;p&gt;在前面，我们了解了like的使用，它可以做一些简单的匹配&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;在like中，我们使用%来代替任意个或多个字符，_表示任意单个字符&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;但在实际的应用场景中，我们可能还会需要更强大的匹配方式，比如“正则表达式”，这就需要使用regexp。&lt;/p&gt;
&lt;p&gt;常用的正则表达式，更多的内容，大家可以百度下&lt;br&gt;&lt;img src=&quot;http://7xl61k.com1.z0.glb.clouddn.com/mysql-handbook-04-01.png-blog.photo&quot; alt=&quot;mysql-handbook-04-01&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/categories/MySQL/"/>
    
    
      <category term="SQL" scheme="https://yuguiyang.github.io/tags/SQL/"/>
    
      <category term="MySQL" scheme="https://yuguiyang.github.io/tags/MySQL/"/>
    
  </entry>
  
</feed>
